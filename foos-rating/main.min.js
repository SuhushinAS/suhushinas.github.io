var foosRatingReact;!function(){var e,t,n,r,o,i={"./src/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),o="/foos-rating/",i=n("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),a=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.Z0)({initialState:{urls:{nsk:{full:"",season:""},tsk:{full:"",season:""}}},name:"config",reducers:{update:function(e,t){var n=t.payload;return u(u({},e),n)}}}),l=s.actions,f=function(e){return function(t){return[e(t),t]}};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,p,g=(m="_id",function(e){return"".concat(e[m])}),y=(p=g,function(e){return{data:Object.fromEntries(e.map(f(p))),list:e.map(p)}}),h=(0,i.Z0)({initialState:{data:{},list:[]},name:"example",reducers:{getList:function(e,t){var n=t.payload;return d(d({},e),y(n))}}}),b=(h.actions,n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js")),A=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),O=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),_=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),j=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),k=n("./node_modules/react/index.js");function C(e,t,n){return t=(0,_.A)(t),(0,O.A)(e,w()?Reflect.construct(t,n||[],(0,_.A)(e).constructor):t.apply(e,n))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}var N=function(e){function t(e){var n;(0,b.A)(this,t),n=C(this,t,[e]),(0,a.A)(n,"isMount",!1),(0,a.A)(n,"state",{symbol:"",viewBox:""}),(0,a.A)(n,"handleError",(function(){console.warn("".concat(n.props.name," is not found"))})),(0,a.A)(n,"handleImport",(function(e){if(n.isMount){var t={symbol:e.symbol,viewBox:e.viewBox};n.setState(t)}}));var r=e.name;return r?n.importSvg(r):console.warn("".concat(r," is not correct")),n}return(0,j.A)(t,e),(0,A.A)(t,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props.name;t!==e.name&&this.importSvg(t)}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"importSvg",value:function(e){n("./src/icons lazy recursive ^\\.\\/.*\\.svg$")("./".concat(e,".svg")).then(this.handleImport).catch(this.handleError)}},{key:"render",value:function(){var e=this.state,t=e.symbol,n=e.viewBox;return t?(0,r.A)("svg",{className:"svg-icon",viewBox:n},void 0,(0,r.A)("use",{xlinkHref:t})):null}}])}(k.PureComponent);(0,a.A)(N,"defaultProps",{name:""});var P=function(e){return e.nsk="nsk",e.tsk="tsk",e}({}),R=function(e){return e.full="full",e.season="season",e}({}),S=function(e){return e.favorite="favorite",e.last="last",e.none="none",e}({}),L=function(e){return e[e.auto=0]="auto",e[e.dark=1]="dark",e[e.light=2]="light",e}({}),E=function(e){return e.auto="auto",e.dark="dark",e.light="light",e}({}),D=(0,a.A)((0,a.A)((0,a.A)({},L.auto,E.auto),L.dark,E.dark),L.light,E.light),I=[{icon:(0,r.A)(N,{name:"map-marker"}),title:"Nsk",value:P.nsk},{icon:(0,r.A)(N,{name:"map-marker"}),title:"Tsk",value:P.tsk}],F=[{icon:(0,r.A)(N,{name:"group"}),title:"Все игроки",value:S.none},{icon:(0,r.A)(N,{name:"futbol-o"}),title:"Последняя игра",value:S.last},{icon:(0,r.A)(N,{name:"star"}),title:"Избранные игроки",value:S.favorite}],M=[{icon:(0,r.A)(N,{name:"calendar-o"}),title:"Общий рейтинг",value:R.full},{icon:(0,r.A)(N,{name:"calendar"}),title:"Сезоный рейтинг",value:R.season}],x=[{icon:(0,r.A)(N,{name:"adjust"}),title:"Авто тема",value:E.auto},{icon:(0,r.A)(N,{name:"moon-o"}),title:"Тёмная тема",value:E.dark},{icon:(0,r.A)(N,{name:"sun-o"}),title:"Светлая тема",value:E.light}],T="foos-rating-state",B="foos-rating-state-v2",H="foos-rating-state-v3";function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={navigation:{city:P.tsk,filter:S.none,range:R.full,scheme:E.auto},rating:{cityData:{},favoriteData:{}}},z=function(e,t){var n=localStorage.getItem(e);if(null!==n)try{return t(JSON.parse(n))}catch(e){return console.warn(e),null}return null},Z=function(e){return e},J=function(e){return{navigation:U.navigation,rating:e}},$=function(e){return{navigation:W(W({},U.navigation),{},{filter:(o=e,i=o.isFavorite,a=o.isLast,i?S.favorite:a?S.last:S.none),range:(r=e,r.isSeason?R.season:R.full),scheme:(t=e,n=t.scheme,void 0===n?U.navigation.scheme:D[n])}),rating:U.rating};var t,n,r,o,i,a},K=function(){var e=z(H,Z);if(null!==e)return e;var t=z(B,J);if(null!==t)return localStorage.removeItem(B),t;var n=z(T,$);return null!==n?(localStorage.removeItem(T),n):U}(),V=(0,i.Z0)({initialState:K.navigation,name:"navigation",reducers:{setCity:function(e,t){var n=t.payload;e.city=n},setFilter:function(e,t){var n=t.payload;e.filter=n},setRange:function(e,t){var n=t.payload;e.range=n},setScheme:function(e,t){var n=t.payload;e.scheme=n}}}),G=V.actions;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=(0,i.Z0)({initialState:K.rating,name:"rating",reducers:{init:function(e,t){var n=t.payload;return Q(Q({},e),n)},load:function(e,t){var n=t.payload,r=n.city,o=n.cityData;return e.cityData[r]=Q(Q({},e.cityData[r]),o),e},setFavorite:function(e,t){var n=t.payload,r=n.city,o=n.favorite;return e.favoriteData[r]=o,e},setFavoriteItem:function(e,t){var n,r=t.payload,o=r.city,i=r.id,a=r.isFavorite,c=null!==(n=e.favoriteData[o])&&void 0!==n?n:{};return c[i]=a,e.favoriteData[o]=c,e},setRating:function(e,t){var n=t.payload,r=n.city,o=n.rating;return e.cityData[r]=o,e}}}),ee=X.actions,te=(0,i.Z0)({initialState:{load:{}},name:"status",reducers:{loadStart:function(e,t){var n=t.payload;e.load[n]=!0},loadStop:function(e,t){var n=t.payload;e.load[n]=!1}}}),ne=te.actions,re=(0,n("./node_modules/redux/dist/redux.mjs").HY)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.name,s.reducer),h.name,h.reducer),V.name,V.reducer),X.name,X.reducer),te.name,te.reducer)),oe={immutableCheck:!1,serializableCheck:!1,thunk:!0},ie=(0,i.U1)({devTools:!1,middleware:function(e){return e(oe)},reducer:re});var ae=n("./node_modules/react-redux/dist/react-redux.mjs"),ce=n("./node_modules/reselect/dist/reselect.mjs"),ue=ae.wA.withTypes(),se=ae.d4.withTypes();ce.Mz.withTypes();function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(){function e(){(0,b.A)(this,e)}return(0,A.A)(e,[{key:"getJSON",value:function(e){return e.json()}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headers,r=void 0===n?{}:n;return fe(fe({},e.options),{},{headers:fe(fe({},e.options.headers),r)},t)}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this.fetch(e,t)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",this.getOptions(e)).then(this.getJSON)}))},{key:"requestLocal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fetch("/foos-rating/local".concat(e))}}])}();(0,a.A)(ve,"options",{headers:{"Content-Type":"application/json"},method:"GET"});var de,me,pe,ge,ye=new ve,he={development:"config.dev.json",production:"config.json"},be=null!==(me=he[null!==(de="production")?de:"development"])&&void 0!==me?me:he.development,Ae=function(e){return function(e){return e[te.name]}(e).load},Oe=function(e){return se(Ae)[e]},_e=function(e){var t,n=e.children,r=Oe(l.update.type);return t=ue(),(0,k.useEffect)((function(){t(ne.loadStart(l.update.type)),ye.requestLocal("/api/v1/".concat(be)).then((function(e){t(l.update(e))})).finally((function(){t(ne.loadStop(l.update.type))}))}),[t]),!1===r?n:null},je=function(e){var t=e.children,n=e.disabled,o=e.onClick;return(0,r.A)("button",{className:"NavigationButton",disabled:n,onClick:o,type:"button"},void 0,t)},ke=function(e){var t=e.children,n=e.isActive,o=void 0!==n&&n,i=e.isCurrent,a=void 0!==i&&i,c=(0,k.useMemo)((function(){var e=["NavigationItem"];return o&&e.push("NavigationItem_isActive"),a&&e.push("NavigationItem_isCurrent"),e.join(" ")}),[o,a]);return(0,r.A)("div",{className:c},void 0,t)},Ce=function(e){var t=e.icon,n=e.title;return(0,r.A)("div",{className:"NavigationItemInner"},void 0,(0,r.A)("div",{className:"NavigationItemInner__Icon"},void 0,t),(0,r.A)("div",{className:"NavigationItemInner__Title"},void 0,n))},we=function(e){var t=e.isActive,n=e.item;return(0,r.A)(ke,{isActive:t},void 0,(0,r.A)(Ce,{icon:n.icon,title:n.title}))},Ne=function(e){return Object.fromEntries(e.map((function(e,t){return[e.value,t]})))},Pe=function(e){return(0,k.useMemo)((function(){return Ne(e)}),[e])},Re=function(e,t,n){var r=(0,k.useRef)(null);return(0,k.useCallback)((function(){null!==r.current&&clearTimeout(r.current),r.current=setTimeout((function(){var r=(n+1)%e.length,o=e[r];t(o.value)}))}),[n,e,t])},Se=function(e){var t=e.list,n=e.onChange,o=e.value,i=Pe(t)[o],a=Re(t,n,i);return(0,r.A)(je,{onClick:a},void 0,(0,r.A)("div",{className:"NavigationList"},void 0,t.map((function(e){return(0,r.A)(we,{isActive:e.value===o,item:e},e.value)}))))},Le=function(e){return e[V.name]},Ee=function(e){return Le(e).city},De=function(e){return Le(e).filter},Ie=function(e){return Le(e).range},Fe=function(e){return Le(e).scheme},Me=function(){return se(De)},xe=function(){var e,t=Me(),n=(e=ue(),(0,k.useCallback)((function(t){return e(G.setFilter(t))}),[e]));return(0,r.A)(Se,{list:F,onChange:n,value:t})},Te=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Be=document.querySelector("html"),He=window.matchMedia("(prefers-color-scheme: dark)"),qe=(0,a.A)((0,a.A)({},E.dark,"html_dark"),E.light,"html_light"),We=function(){return He.matches?E.dark:E.light},Ue=function(){var e,t=se(Fe),n=(e=ue(),(0,k.useCallback)((function(t){return e(G.setScheme(t))}),[e])),o=(0,k.useState)(We),i=(0,Te.A)(o,2),a=i[0],c=i[1],u=(0,k.useCallback)((function(){c(We)}),[]),s=(0,k.useMemo)((function(){return t===E.auto?a:t}),[a,t]);return(0,k.useEffect)((function(){if(null!==Be){Be.classList.remove(qe[E.dark],qe[E.light]);var e=qe[s];e&&Be.classList.add(e)}}),[s]),(0,k.useEffect)((function(){return He.addEventListener("change",u),function(){He.removeEventListener("change",u)}}),[u]),(0,r.A)(Se,{list:x,onChange:n,value:t})},ze=function(){return se(Ie)},Ze=function(){var e,t=ze(),n=(e=ue(),(0,k.useCallback)((function(t){return e(G.setRange(t))}),[e]));return(0,r.A)(Se,{list:M,onChange:n,value:t})},Je=function(){return pe||(pe=(0,r.A)("div",{className:"NavigationFooter"},void 0,(0,r.A)(Ze,{}),(0,r.A)(xe,{}),(0,r.A)(Ue,{})))},$e=function(e){var t=e.children;return(0,r.A)("div",{className:"Layout"},void 0,(0,r.A)("main",{className:"Layout__Body"},void 0,t),ge||(ge=(0,r.A)("footer",{className:"Layout__Footer"},void 0,(0,r.A)(Je,{}))))},Ke=function(e){return e[X.name]},Ve=n("./node_modules/baron/src/core.js"),Ge=n.n(Ve);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t=(0,_.A)(t),(0,O.A)(e,et()?Reflect.construct(t,n||[],(0,_.A)(e).constructor):t.apply(e,n))}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(et=function(){return!!e})()}var tt=0!==function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.setProperty("msOverflowStyle","scrollbar"),document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),n}();function nt(e){return"bar_".concat(e)}function rt(e){return"track_".concat(e)}var ot=function(e){function t(e){var n,r,o,i;return(0,b.A)(this,t),n=Xe(this,t,[e]),(0,a.A)(n,"instanceList",[]),(0,a.A)(n,"isMount",!1),(0,a.A)(n,"references",{scroll:k.createRef(),scroller:k.createRef()}),(0,a.A)(n,"updateOnLayoutChange",(r=function(){n.isMount&&n.instanceList.forEach(n.update)},o=300,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(i),i=setTimeout((function(){i=null,r.apply(void 0,t)}),o)})),(0,a.A)(n,"referencesInit",(function(e,t){return Qe(Qe({},e),{},(0,a.A)((0,a.A)({},nt(t),k.createRef()),rt(t),k.createRef()))})),(0,a.A)(n,"renderScrollbar",(function(e){return k.createElement("div",{className:"Scroll__Track Scroll__Track_".concat(e),key:e,ref:n.references[rt(e)]},k.createElement("div",{className:"Scroll__Bar Scroll__Bar_".concat(e),ref:n.references[nt(e)]}))})),(0,a.A)(n,"scrollInit",(function(e){return Ge()({bar:n.references[nt(e)].current,barOnCls:"Scroll_On_".concat(e),direction:e,impact:"scroller",root:n.references.scroll.current,scroller:n.references.scroller.current,track:n.references[rt(e)].current})})),n.references=n.props.dirList.reduce(n.referencesInit,n.references),n}return(0,j.A)(t,e),(0,A.A)(t,[{key:"render",value:function(){return tt?k.createElement("div",{className:"Scroll",ref:this.references.scroll},k.createElement("div",{className:"Scroll__Scroller",ref:this.references.scroller},this.props.children),this.props.dirList.map(this.renderScrollbar)):this.props.children}},{key:"componentDidMount",value:function(){tt&&(this.instanceList=this.props.dirList.map(this.scrollInit),this.isMount=!0,this.updateOnLayoutChange())}},{key:"componentDidUpdate",value:function(){this.updateOnLayoutChange()}},{key:"update",value:function(e){e.update()}},{key:"componentWillUnmount",value:function(){this.isMount=!1,this.instanceList.forEach(this.dispose)}},{key:"dispose",value:function(e){e.dispose()}}])}(k.Component);(0,a.A)(ot,"defaultProps",{dirList:[]});var it,at,ct,ut=function(e,t){return new Date(e).toLocaleDateString("ru-RU",t)},st=function(e){return se(Ke).cityData[e]},lt=Ne(I),ft=["h"],vt={dateStyle:"long"},dt=function(e){var t,n,o=e.city,i=e.setCity,a=lt[o],c=I[a],u=function(e){var t=st(e);return null==t?void 0:t.seasonStartDate}(o),s=function(e){var t=st(e);return null==t?void 0:t.lastEvent}(o),l=(t=u,n=vt,(0,k.useMemo)((function(){if(void 0!==t)return ut(t,n)}),[t,n])),f=(0,k.useMemo)((function(){if(void 0!==s)return{date:ut(s.date,vt),name:s.name.replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/gi," ").replace(/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[0-9]{1,2}\.[0-9]{1,2}(\.[0-9]{2,4})?([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[\x2D:_][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?/gi,"")}}),[s]),v=Re(I,i,a);return(0,r.A)("div",{className:"RatingCityHeader"},void 0,(0,r.A)("div",{className:"RatingCityHeader__Head"},void 0,(0,r.A)(je,{onClick:v},void 0,(0,r.A)("h1",{className:"RatingCityHeader__Title"},void 0,c.title))),(0,r.A)("div",{className:"RatingCityHeader__Info"},void 0,(0,r.A)("div",{className:"RatingCityHeader__InfoScroll"},void 0,(0,r.A)(ot,{dirList:ft},void 0,(0,r.A)("div",{className:"RatingCityHeader__InfoInner"},void 0,l&&(0,r.A)("div",{className:"RatingCityHeader__Season"},void 0,"Начало сезона: ",l),f&&(0,r.A)("div",{className:"RatingCityHeader__LastEvent"},void 0,f.name),f&&(0,r.A)("div",{className:"RatingCityHeader__LastEvent"},void 0,f.date))))))},mt=function(e){var t=e.children,n=e.loading,o=(0,k.useMemo)((function(){var e=["Loader"];return n||e.push("Loader_Hidden"),e.join(" ")}),[n]);return k.createElement(k.Fragment,null,t,(0,r.A)("div",{className:o},void 0,it||(it=(0,r.A)("div",{className:"Loader__Inner"},void 0,(0,r.A)("div",{className:"Loader__Item Loader__Item_1"}),(0,r.A)("div",{className:"Loader__Item Loader__Item_2"}),(0,r.A)("div",{className:"Loader__Item Loader__Item_3"})))))},pt=function(e){var t=se(Ke).favoriteData[e];return(0,k.useMemo)((function(){if(void 0!==t){var e=Object.entries(t).filter((function(e){return(0,Te.A)(e,2)[1]}));if(0!==e.length)return Object.fromEntries(e)}}),[t])},gt=function(e){var t=e.city,n=e.filter,o=pt(t);return n===S.favorite&&void 0===o?at||(at=(0,r.A)("h4",{className:"RatingListEmpty"},void 0,"Отметь игроков"," ",(0,r.A)("span",{className:"RatingListEmpty__Star"},void 0,(0,r.A)(N,{name:"star"})),", чтобы следить за их результатами")):ct||(ct=(0,r.A)("h4",{className:"RatingListEmpty"},void 0,"Нет данных о рейтинге, ",(0,r.A)("span",{className:"RatingListEmpty__NoWrap"},void 0,"х.з. почему...(")))},yt=function(e){return e.negative="negative",e.none="none",e.positive="positive",e}(yt||{}),ht=function(e){var t=e.change,n=(0,k.useMemo)((function(){return 0===t?yt.none:0<t?yt.positive:yt.negative}),[t]),o=(0,k.useMemo)((function(){return["RatingChange","RatingChange_".concat(n)].join(" ")}),[n]);return 0===t?null:(0,r.A)("sub",{className:o},void 0,t)},bt=function(e){var t=e.isActive,n=e.item,o=(0,k.useMemo)((function(){var e=["RatingFavoriteListItem"];return n.value&&e.push("RatingFavoriteListItem_Active"),e.join(" ")}),[t]);return(0,r.A)(ke,{isActive:t},n.value,(0,r.A)("div",{className:o},void 0,n.icon))},At=k.memo((function(e){var t=e.list,n=e.onChange,o=e.value,i=Pe(t)[o],a=Re(t,n,i);return(0,r.A)(je,{onClick:a},void 0,(0,r.A)("div",{className:"NavigationList"},void 0,t.map((function(e){return(0,r.A)(bt,{isActive:o===e.value,item:e},e.value)}))))}));At.displayName="RatingFavorite";var Ot=[{icon:(0,r.A)(N,{name:"star-o"}),title:"",value:0},{icon:(0,r.A)(N,{name:"star"}),title:"",value:1}],_t=function(e){var t=function(e,t){var n=pt(e),r=ue(),o=(0,k.useMemo)((function(){var e;return Number(null!==(e=null==n?void 0:n[t])&&void 0!==e&&e)}),[n,t]),i=(0,k.useCallback)((function(n){r(ee.setFavoriteItem({city:e,id:t,isFavorite:Boolean(n)}))}),[e,r,t]);return[o,i]}(e.city,e.id),n=(0,Te.A)(t,2),o=n[0],i=n[1];return(0,r.A)(At,{list:Ot,onChange:i,value:o})},jt=function(e){var t=e.rank,n=(0,k.useMemo)((function(){return["RatingRank","RatingRank_".concat(t)].join(" ")}),[t]);return(0,r.A)("div",{className:n},void 0,t)},kt=k.memo((function(e){var t=e.city,n=e.rating;return(0,r.A)("div",{className:"RatingList__Row"},void 0,(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Position"},void 0,n.position),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Change"},void 0,(0,r.A)(ht,{change:n.positionChange})),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Name"},void 0,n.name),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Rank"},void 0,(0,r.A)(jt,{rank:n.rank})),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Value"},void 0,n.value),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Change"},void 0,(0,r.A)(ht,{change:n.valueChange})),(0,r.A)("div",{className:"RatingList__Col RatingList__Col_Favorite"},void 0,(0,r.A)(_t,{city:t,id:n.id})))}));kt.displayName="RatingListItem";var Ct=["v"],wt=function(e){var t=e.city,n=e.filter,o=e.ratings;return 0===o.length?(0,r.A)(gt,{city:t,filter:n}):(0,r.A)("div",{className:"RatingList"},void 0,(0,r.A)(ot,{dirList:Ct},void 0,o.map((function(e){return(0,r.A)(kt,{city:t,rating:e},e.id)}))))},Nt=function(e){return(0,k.useMemo)((function(){return function(e){return"".concat(ee.load.type,"/").concat(e)}(e)}),[e])},Pt=function(e,t){var n=function(e,t){var n=st(e);return(0,k.useMemo)((function(){var e;return null==n||null===(e=n.rangeData)||void 0===e?void 0:e[t]}),[t,n])}(e,t);return(0,k.useMemo)((function(){return null==n?void 0:n.ratings}),[n])},Rt=function(e,t,n){var r=Pt(e,t),o=pt(e);return(0,k.useMemo)((function(){return void 0===r?[]:function(e,t,n){switch(t){case S.favorite:return n?e.filter((function(e){var t=e.id;return n[t]})):[];case S.last:return e.filter((function(e){return e.wasInLastEvent}));case S.none:default:return e}}(r,n,o)}),[o,n,r])},St=function(e){var t=e.city,n=e.range,o=Me(),i=Rt(t,n,o),a=Nt(t),c=Oe(a),u=null==c||c;return(0,r.A)(mt,{loading:u},void 0,(0,r.A)(wt,{city:t,filter:o,ratings:i}))},Lt=function(e){return function(e){return e[s.name]}(e).urls};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It,Ft=function(e,t,n){return e[n+t.positionChange]=t,e},Mt=function(e){return 0!==e.eventsPlayed},xt=function(e,t,n){return e[t.id]=n+1,e},Tt=function(e){return{eventsTotal:e.eventsTotal,ratings:(t=e.ratings,n=t.reduce(Ft,[]).filter(Mt).reduce(xt,{}),t.filter(Mt).reduce((function(e,t,r){var o=r+1,i=n[t.id];return e.push(Dt(Dt({},t),{},{position:o,positionChange:i-o})),e}),[]))};var t,n},Bt=function(e){var t=e.city,n=e.setCity,o=ze();return function(e){var t=ue(),n=Nt(e),r=Oe(n),o=se(Lt);(0,k.useEffect)((function(){if(void 0===r){var i=o[e],c=i.full,u=i.season;t(ne.loadStart(n)),Promise.all([ye.request(c),ye.request(u)]).then((function(n){var r=(0,Te.A)(n,2),o=r[0],i=r[1],c={lastEvent:o.lastEvent,rangeData:(0,a.A)((0,a.A)({},R.full,Tt(o)),R.season,Tt(i)),seasonStartDate:i.seasonStartDate};t(ee.setRating({city:e,rating:c}))})).finally((function(){t(ne.loadStop(n))}))}}),[e,t,r,n,o])}(t),(0,r.A)("div",{className:"RatingCity"},void 0,(0,r.A)("div",{className:"RatingCity__Header"},void 0,(0,r.A)(dt,{city:t,setCity:n})),(0,r.A)("div",{className:"RatingCity__Body"},void 0,(0,r.A)(St,{city:t,range:o})))},Ht=function(){var e,t=se(Ee),n=(e=ue(),(0,k.useCallback)((function(t){return e(G.setCity(t))}),[e]));return function(){var e=se(Le),t=se(Ke);(0,k.useEffect)((function(){localStorage.setItem(H,JSON.stringify({navigation:e,rating:t}))}),[e,t])}(),(0,r.A)("div",{className:"Rating"},void 0,(0,r.A)("div",{className:"Rating__Item"},void 0,(0,r.A)(Bt,{city:t,setCity:n})))},qt=n("./node_modules/react-router-dom/dist/index.js"),Wt=n("./node_modules/react-router/dist/index.js"),Ut=function(){return(0,k.useLayoutEffect)((function(){document.body.classList.remove("opacity_hidden")}),[]),(0,r.A)(ae.Kq,{store:ie},void 0,(0,r.A)(qt.Kd,{},void 0,(0,r.A)(_e,{},void 0,(0,r.A)($e,{},void 0,(0,r.A)(Wt.BV,{},void 0,(0,r.A)(Wt.qh,{element:It||(It=(0,r.A)(Ht,{})),path:o}))))))},zt=n("./node_modules/react-dom/client.js"),Zt=document.getElementById("root");Zt&&(0,zt.H)(Zt).render((0,r.A)(k.StrictMode,{},void 0,(0,r.A)(Ut,{})));var Jt=function(e){console.error("SW registration failed: ",e)},$t=function(){"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/foos-rating/sw.js").catch(Jt)};window.removeEventListener("load",$t),window.addEventListener("load",$t)},"./src/icons lazy recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./adjust.svg":["./src/icons/adjust.svg","icon0"],"./calendar-check-o.svg":["./src/icons/calendar-check-o.svg","icon1"],"./calendar-o.svg":["./src/icons/calendar-o.svg","icon2"],"./calendar.svg":["./src/icons/calendar.svg","icon3"],"./futbol-o.svg":["./src/icons/futbol-o.svg","icon4"],"./group.svg":["./src/icons/group.svg","icon5"],"./history.svg":["./src/icons/history.svg","icon6"],"./home.svg":["./src/icons/home.svg","icon7"],"./logo.svg":["./src/icons/logo.svg","icon8"],"./map-marker.svg":["./src/icons/map-marker.svg","icon9"],"./moon-o.svg":["./src/icons/moon-o.svg","icon10"],"./star-o.svg":["./src/icons/star-o.svg","icon11"],"./star.svg":["./src/icons/star.svg","icon12"],"./sun-o.svg":["./src/icons/sun-o.svg","icon13"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,23)}))}o.keys=function(){return Object.keys(r)},o.id="./src/icons lazy recursive ^\\.\\/.*\\.svg$",e.exports=o}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e](n,n.exports,c),n.exports}c.m=i,e=[],c.O=function(t,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var a=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(c.O).every((function(e){return c.O[e](n[u])}))?n.splice(u--,1):(a=!1,o<i&&(i=o));if(a){e.splice(l--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);c.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},c.d(o,i),o},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce((function(t,n){return c.f[n](e,t),t}),[]))},c.u=function(e){return e+".min.js"},c.miniCssF=function(e){},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},o="foosRatingReact:",c.l=function(e,t,n,i){if(r[e])r[e].push(t);else{var a,u;if(void 0!==n)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var f=s[l];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==o+n){a=f;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.setAttribute("data-webpack",o+n),a.src=e),r[e]=[t];var v=function(t,n){a.onerror=a.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(v.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=v.bind(null,a.onerror),a.onload=v.bind(null,a.onload),u&&document.head.appendChild(a)}},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/foos-rating/",function(){var e={main:0};c.f.j=function(t,n){var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=c.p+c.u(t),a=new Error;c.l(i,(function(n){if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}},c.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],a=n[1],u=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(u)var l=u(c)}for(t&&t(n);s<i.length;s++)o=i[s],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return c.O(l)},n=self.webpackChunkfoosRatingReact=self.webpackChunkfoosRatingReact||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var u=c.O(void 0,["vendor"],(function(){return c("./src/index.tsx")}));u=c.O(u),foosRatingReact=u}();