var pokerPlanner;!function(){"use strict";var e,t,r,n={"./src/index.tsx":function(e,t,r){r.r(t);var n,o,a,i=r("./node_modules/@babel/runtime/helpers/esm/jsx.js"),s="/",u=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=r("./node_modules/firebase/auth/dist/esm/index.esm.js"),l=r("./node_modules/firebase/app/dist/esm/index.esm.js"),d={apiKey:"AIzaSyAMO8Kwj7ChDikQKJzA7KCp-LYkXDFcKYI",appId:"1:241782390439:web:c10021e740161f63d1a582",authDomain:"tst-project-b3fc3.firebaseapp.com",databaseURL:"https://tst-project-b3fc3-default-rtdb.europe-west1.firebasedatabase.app",messagingSenderId:"241782390439",projectId:"tst-project-b3fc3",storageBucket:"tst-project-b3fc3.appspot.com"},f=r("./node_modules/react/index.js"),m=(0,f.createContext)(void 0),v=function(e){var t=e.children,r=(0,f.useState)(),n=(0,u.Z)(r,2),o=n[0],a=n[1];return(0,f.useEffect)((function(){return void 0===o&&a((0,l.ZF)(d)),function(){void 0!==o&&((0,l.P2)(o),a(void 0))}}),[o]),void 0===o?null:(0,i.Z)(m.Provider,{value:o},void 0,t)},p=function(){var e=(0,f.useContext)(m);if(void 0===e)throw new Error("useFirebaseAppContext can only be used in a FirebaseAppProvider");return e},b=(0,f.createContext)(void 0),Z=function(e){var t=e.children,r=p(),n=(0,f.useState)(),o=(0,u.Z)(n,2),a=o[0],s=o[1];return(0,f.useEffect)((function(){s((0,c.v0)(r))}),[r]),void 0===a?null:(0,i.Z)(b.Provider,{value:a},void 0,t)},_=(0,f.createContext)(void 0),h=function(e){var t=e.children,r=function(){var e=(0,f.useContext)(b);if(void 0===e)throw new Error("useAuthContext can only be used in a AuthProvider");return e}(),n=(0,f.useState)(),o=(0,u.Z)(n,2),a=o[0],s=o[1];return(0,f.useEffect)((function(){(0,c.XB)(r).then((function(e){var t=e.user;return s(t)}))}),[r]),void 0===a?null:(0,i.Z)(_.Provider,{value:a},void 0,t)},g=function(){var e=(0,f.useContext)(_);if(void 0===e)throw new Error("useAnonymouslyContext can only be used in a AnonymouslyProvider");return e},y=r("./node_modules/firebase/database/dist/esm/index.esm.js"),O=(0,f.createContext)(void 0),j=function(e){var t=e.children,r=p(),n=(0,f.useState)(),o=(0,u.Z)(n,2),a=o[0],s=o[1];return(0,f.useEffect)((function(){s((0,y.N8)(r))}),[r]),void 0===a?null:(0,i.Z)(O.Provider,{value:a},void 0,t)},k=r("./node_modules/firebase/firestore/dist/esm/index.esm.js"),I=(0,f.createContext)(void 0),C=function(e){var t=e.children,r=p(),n=(0,f.useState)(),o=(0,u.Z)(n,2),a=o[0],s=o[1];return(0,f.useEffect)((function(){return s((0,k.ad)(r)),function(){return s(void 0)}}),[r]),void 0===a?null:(0,i.Z)(I.Provider,{value:a},void 0,t)},S=function(){var e=(0,f.useContext)(I);if(void 0===e)throw new Error("useFirestoreContext can only be used in a FirestoreProvider");return e},N=function(e){var t=e.children;return(0,i.Z)(v,{},void 0,(0,i.Z)(Z,{},void 0,(0,i.Z)(h,{},void 0,(0,i.Z)(C,{},void 0,(0,i.Z)(j,{},void 0,t)))))},x=function(e){var t=e.children,r=e.title;return(0,i.Z)("table",{className:"Table"},void 0,r&&(0,i.Z)("caption",{className:"Table__Title"},void 0,r),(0,i.Z)("tbody",{},void 0,t))},P=function(e,t){var r=S();return(0,f.useMemo)((function(){return(0,k.JU)(r,e,t)}),[r,e,t])},w=r("./node_modules/@babel/runtime/helpers/esm/extends.js"),E=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),M=["className"],D=function(e){var t=e.className,r=void 0===t?"":t,n=(0,E.Z)(e,M),o=(0,f.useMemo)((function(){var e=r.split(" ");return e.push("Button"),e.join(" ")}),[r]);return f.createElement("button",(0,w.Z)({className:o},n))},L=function(e){return{defaultMessage:" ",id:e}},T=r("./node_modules/react-intl/lib/src/components/message.js"),G=function(e){var t=e.id,r=e.values;return f.createElement(T.Z,(0,w.Z)({},L(t),{values:r}))},V=-1,F=function(e){var t=e.isVoted,r=e.taskId,n=e.votes,o=P("task",r),a=(0,f.useMemo)((function(){return Object.values(n).some((function(e){return e!==V}))}),[n]),s=(0,f.useMemo)((function(){return t?"game.reset":"game.reveal"}),[t]),u=(0,f.useCallback)((function(){return t?(0,k.r7)(o,{isVoted:!1,votes:{}}):(0,k.r7)(o,{isVoted:!0})}),[t,o]);return(0,i.Z)(D,{className:"Button_Primary",disabled:!a,onClick:u,type:"button"},void 0,(0,i.Z)(G,{id:s}))},B=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=function(e){var t=e.isVoted,r=e.option,n=e.taskId,o=e.userId,a=e.vote,s=P("task",n),u=(0,f.useCallback)((function(){(0,k.r7)(s,(0,B.Z)({},"votes.".concat(o),r))}),[r,s,o]);return(0,i.Z)(D,{className:"Button_Primary",disabled:t||a===r,onClick:u,type:"button"},void 0,r===V?" ":r)},A=function(e){var t=e.game,r=e.taskData,n=e.taskId,o=e.userId;return void 0===r?null:(0,i.Z)(x,{},void 0,(0,i.Z)("tr",{},void 0,t.optionList.map((function(e){return(0,i.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},e,(0,i.Z)(R,{isVoted:r.isVoted,option:e,taskId:n,userId:o,vote:r.votes[o]},e))})),(0,i.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},void 0,(0,i.Z)(R,{isVoted:r.isVoted,option:V,taskId:n,userId:o,vote:r.votes[o]}))),t.creatorId===o&&(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Reveal",colSpan:t.optionList.length+1},void 0,(0,i.Z)(F,{isVoted:r.isVoted,taskId:n,votes:r.votes}))))},W=function(e){var t=(0,f.useState)(),r=(0,u.Z)(t,2),n=r[0],o=r[1],a=P("user",e);return(0,f.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n},H=function(e){var t=function(){var e=(0,f.useContext)(O);if(void 0===e)throw new Error("useDatabaseContext can only be used in a DatabaseProvider");return e}();return(0,f.useMemo)((function(){return(0,y.iH)(t,e)}),[t,e])},U=function(e,t){return(0,f.useEffect)((function(){return(0,y.jM)(e,t)}),[t,e])},K=function(e){var t=e.gameId,r=e.isCreator,n=e.isSelf,o=e.isVoted,a=e.memberId,s=e.votes,c=W(a),l=function(e){var t=H("user/".concat(e)),r=(0,f.useState)(),n=(0,u.Z)(r,2),o=n[0],a=n[1];return U(t,(function(e){return a(e.val())})),o}(a),d=(0,f.useMemo)((function(){var e=["GameMember__Name"];return r&&e.push("GameMember__Name_Creator"),n&&e.push("GameMember__Name_Self"),e.join(" ")}),[r,n]),m=(0,f.useMemo)((function(){var e,t=null!==(e=s[a])&&void 0!==e?e:V;return V===t?"":o?t:"#"}),[o,a,s]);if(void 0===c||l!==t||!c.exists())return null;var v=c.data().name;return(0,i.Z)("tr",{className:"GameMember"},void 0,(0,i.Z)("td",{className:"GameMember__Cell GameMember__Cell_Name"},void 0,(0,i.Z)("p",{className:d,title:v},void 0,v)),(0,i.Z)("td",{className:"GameMember__Cell GameMember__Cell_Vote"},void 0,(0,i.Z)("p",{},void 0,m)))},z=function(e){var t=e.game,r=e.gameId,n=e.taskData,o=e.title,a=e.userId;return(0,i.Z)(x,{title:(0,i.Z)("h5",{},void 0,o)},void 0,Object.keys(t.memberIds).map((function(e){return(0,i.Z)(K,{gameId:r,isCreator:t.creatorId===e,isSelf:a===e,isVoted:n.isVoted,memberId:e,votes:n.votes},e)})))},q=function(e){var t=e.game,r=e.gameId,n=e.taskData,o=e.userId;return void 0===n?null:(0,i.Z)(z,{game:t,gameId:r,taskData:n,title:n.title,userId:o})},J=function(){return n||(n=(0,i.Z)("div",{},void 0,(0,i.Z)("h5",{},void 0,(0,i.Z)(G,{id:"gameTask.empty.title"})),(0,i.Z)("div",{},void 0,(0,i.Z)(G,{id:"gameTask.empty.description"}))))},Y=function(e){var t=e.game,r=e.gameId,n=e.taskId,o=e.userId,a=function(e){var t=(0,f.useState)(),r=(0,u.Z)(t,2),n=r[0],o=r[1],a=P("task",e);return(0,f.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n}(n),s=(0,f.useMemo)((function(){if(void 0!==a&&a.exists())return a.data()}),[a]);return f.createElement(f.Fragment,null,(0,i.Z)(q,{game:t,gameId:r,taskData:s,userId:o}),(0,i.Z)(A,{game:t,taskData:s,taskId:n,userId:o}))},X=function(e){var t=e.game,r=e.gameId,n=e.taskId,a=e.userId;return void 0===n?o||(o=(0,i.Z)(J,{})):(0,i.Z)(Y,{game:t,gameId:r,taskId:n,userId:a})},Q=function(e){var t=S();return(0,f.useMemo)((function(){return(0,k.hJ)(t,e)}),[t,e])},$=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),ee=r("./node_modules/@babel/runtime/regenerator/index.js"),te=r.n(ee),re=r("./node_modules/react-hook-form/dist/index.esm.mjs"),ne=function(e){var t=(0,re.Gc)().formState,r=t.isDirty,n=t.isLoading,o=t.isSubmitting,a=t.isValid,i=t.isValidating;return f.createElement(D,(0,w.Z)({className:"Button_Primary",disabled:!r||n||o||!a||i},e))},oe=["className","id","name"],ae=function(e){var t=e.className,r=void 0===t?"":t,n=e.id,o=e.name,a=(0,E.Z)(e,oe),i=(0,re.Gc)().control,s=(0,re.bc)({control:i,name:o}).field,u=(0,f.useMemo)((function(){var e=r.split(" ");return e.push("Input"),e.join(" ")}),[r]);return f.createElement("input",(0,w.Z)({className:u,id:null!=n?n:o},s,a))},ie=r("./node_modules/react-intl/lib/src/components/useIntl.js"),se=function(e,t){var r=(0,ie.Z)();return(0,f.useMemo)((function(){return function(e){return function(t,r){return e.formatMessage(L(t),r)}}(r)(e,t)}),[e,r,t])},ue=function(e){var t=e.defaultValues,r=(0,re.cI)({defaultValues:t}),n=se("task.title"),o=(0,f.useCallback)(function(){var n=(0,$.Z)(te().mark((function n(o){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.onSubmit(o);case 2:r.reset(t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,r,e]);return f.createElement(re.RV,r,(0,i.Z)("form",{onSubmit:r.handleSubmit(o)},void 0,(0,i.Z)(x,{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"TaskForm__Cell TaskForm__Cell_Title"},void 0,(0,i.Z)(ae,{className:"TaskForm__Input",name:"title",placeholder:n})),a||(a=(0,i.Z)("td",{className:"TaskForm__Cell TaskForm__Cell_Control"},void 0,(0,i.Z)(ne,{},void 0,"+")))))))};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de,fe,me,ve,pe,be,Ze=function(e){var t=e.creatorId,r=e.gameId,n=(0,f.useMemo)((function(){return{creatorId:t,gameId:r,isVoted:!1,title:"",votes:{}}}),[t,r]),o=Q("task"),a=P("game",r),s=(0,f.useCallback)((function(e){return(0,k.r7)(a,{taskId:e.id})}),[a]),u=(0,f.useCallback)((function(e){return(0,k.ET)(o,le(le({},e),{},{createDate:(0,k.Bt)()})).then(s)}),[s,o]);return(0,i.Z)(ue,{defaultValues:n,onSubmit:u})},_e=function(){return de||(de=(0,i.Z)("div",{},void 0,(0,i.Z)("h5",{},void 0,(0,i.Z)(G,{id:"task.empty.title"})),(0,i.Z)("div",{},void 0,(0,i.Z)(G,{id:"task.empty.description"}))))},he=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.task,a=e.taskId,s=e.taskIdSelect,u=P("game",r),c=P("task",a),l=(0,f.useMemo)((function(){var e=["TaskItem"];return a===t.taskId&&e.push("TaskItem_Current"),e.join(" ")}),[t.taskId,a]),d=(0,f.useMemo)((function(){var e=Object.values(o.votes).filter((function(e){return e!==V})),t=e.length;return 0===t?" ":o.isVoted?Math.round(e.reduce((function(e,t){return e+t}),0)/t):"#"}),[o]),m=(0,f.useCallback)((function(){return(0,k.r7)(u,{taskId:a})}),[u,a]),v=(0,f.useCallback)((function(){return a===t.taskId&&(void 0===s?(0,k.r7)(u,{taskId:(0,k.AK)()}):(0,k.r7)(u,{taskId:s})),(0,k.oe)(c)}),[t.taskId,u,c,a,s]);return(0,i.Z)("tr",{className:l},void 0,(0,i.Z)("td",{className:"TaskItem__Cell"},void 0,n?(0,i.Z)(D,{className:"Button_Primary",disabled:a===t.taskId,onClick:m,title:o.title,type:"button"},void 0,(0,i.Z)("span",{className:"TaskItem__TitleInner"},void 0,o.title)):(0,i.Z)("span",{className:"TaskItem__Title",title:o.title},void 0,(0,i.Z)("span",{className:"TaskItem__TitleInner"},void 0,o.title))),(0,i.Z)("td",{className:"TaskItem__Cell TaskItem__Cell_Control"},void 0,d),n&&(0,i.Z)("td",{className:"TaskItem__Cell TaskItem__Cell_Control"},void 0,(0,i.Z)(D,{className:"Button_Primary",onClick:v,type:"button"},void 0,"×")))},ge=new Date(0),ye=function(e){var t=e.createDate;return[void 0===t?k.EK.fromDate(ge):t,e.title].join("_")},Oe=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.taskList,a=(0,f.useMemo)((function(){var e=o.map((function(e){return{data:e.data(),id:e.id}}));return e.sort((function(e,t){var r=ye(e.data),n=ye(t.data);return r===n?0:r>n?1:-1})),e}),[o]);return(0,i.Z)(x,{title:fe||(fe=(0,i.Z)("h5",{},void 0,(0,i.Z)(G,{id:"task.list.title"})))},void 0,a.map((function(e,o){var s,u=null!==(s=a[o+1])&&void 0!==s?s:a[o-1];return(0,i.Z)(he,{game:t,gameId:r,isCreator:n,task:e.data,taskId:e.id,taskIdSelect:null==u?void 0:u.id},e.id)})))},je=function(e){var t=(0,f.useState)(),r=(0,u.Z)(t,2),n=r[0],o=r[1],a=(0,f.useMemo)((function(){return(0,k.ar)("gameId","==",e)}),[e]),i=function(e,t){return(0,f.useMemo)((function(){return(0,k.IO)(e,t)}),[e,t])}(Q("task"),a);return(0,f.useEffect)((function(){return(0,k.cf)(i,o)}),[i]),n},ke=function(e){var t=e.creatorId,r=e.game,n=e.gameId,o=e.userId,a=je(n),s=o===t;return void 0===a?null:(0,i.Z)("div",{},void 0,(0,i.Z)("div",{},void 0,a.empty?me||(me=(0,i.Z)(_e,{})):(0,i.Z)(Oe,{game:r,gameId:n,isCreator:s,taskList:a.docs})),s&&(0,i.Z)("div",{},void 0,(0,i.Z)(Ze,{creatorId:t,gameId:n})))},Ie=function(e){var t=e.game,r=e.gameId;!function(e){var t=g(),r=P("game",e);(0,f.useEffect)((function(){(0,k.r7)(r,(0,B.Z)({},"memberIds.".concat(t.uid),!0))}),[t.uid,r])}(r),function(e){var t=g(),r=H(".info/connected"),n=H("user/".concat(t.uid));U(r,(function(t){!0===t.val()&&(0,y.ae)(n).remove().then((function(){(0,y.t8)(n,e)}))}))}(r);var n=(0,f.useMemo)((function(){return t.data()}),[t]),o=g().uid;return(0,i.Z)("div",{className:"GameItemContent"},void 0,(0,i.Z)("div",{className:"GameItemContent__Header box"},void 0,(0,i.Z)("div",{className:"box__row"},void 0,(0,i.Z)("h3",{className:"GameItemContent__Title box__col box__col_xs_12 box__col_sm_5"},void 0,n.title," (",n.createDate.toDate().toLocaleDateString(),")"),(0,i.Z)("h4",{className:"GameItemContent__Code box__col box__col_xs_12 box__col_sm_7"},void 0,r))),(0,i.Z)("div",{className:"GameItemContent__Main box"},void 0,(0,i.Z)("div",{className:"box__row"},void 0,(0,i.Z)("div",{className:"GameItemContent__MemeberList box__col box__col_xs_12 box__col_sm_5"},void 0,(0,i.Z)(X,{game:n,gameId:r,taskId:n.taskId,userId:o})),(0,i.Z)("div",{className:"GameItemContent__TaskList box__col box__col_xs_12 box__col_sm_7"},void 0,(0,i.Z)(ke,{creatorId:n.creatorId,game:n,gameId:r,userId:o})))))},Ce=r("./node_modules/react-router/dist/index.js"),Se=function(){var e=(0,Ce.UO)().gameId,t=void 0===e?"":e,r=function(e){var t=(0,f.useState)(),r=(0,u.Z)(t,2),n=r[0],o=r[1],a=P("game",e);return(0,f.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n}(t);return void 0===r?null:r.exists()?(0,i.Z)(Ie,{game:r,gameId:t}):(0,i.Z)(Ce.Fg,{to:s})},Ne=function(e){var t=e.children,r=e.defaultValues,n=e.onSubmit,o=(0,re.cI)({defaultValues:r});return f.createElement(re.RV,o,(0,i.Z)("form",{onSubmit:o.handleSubmit(n)},void 0,t))},xe=function(e){var t=e.children,r=e.htmlFor;return(0,i.Z)("label",{className:"Label",htmlFor:r},void 0,t)},Pe=r("./node_modules/react-intl/src/components/message.js"),we=function(){var e=se("game.new.placeholder");return(0,i.Z)(x,{},void 0,ve||(ve=(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(xe,{htmlFor:"title"},void 0,(0,i.Z)(Pe.Z,{id:"game.new.label"}))))),(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ae,{name:"title",placeholder:e}))),pe||(pe=(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ne,{},void 0,(0,i.Z)(Pe.Z,{id:"game.new.action"}))))))},Ee="/",Me="/:gameId",De=r("./node_modules/@remix-run/router/dist/router.js");function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge,Ve,Fe,Be,Re,Ae,We,He,Ue,Ke=function(e){var t=e.optionSetList,r=(0,Ce.s0)(),n=g(),o=Q("game"),a=(0,f.useMemo)((function(){var e={title:""};return 1===t.length&&(e.optionList=t[0].optionList),e}),[t]),s=(0,f.useCallback)((function(e){return(0,k.ET)(o,Te(Te({},e),{},{createDate:(0,k.Bt)(),creatorId:n.uid})).then((function(e){r((0,De.Gn)(Me,{gameId:e.id}))}))}),[n.uid,o,r]);return(0,i.Z)(Ne,{defaultValues:a,onSubmit:s},void 0,be||(be=(0,i.Z)(we,{})))},ze=function(){var e=function(){var e=(0,f.useState)(),t=(0,u.Z)(e,2),r=t[0],n=t[1],o=Q("optionSet");return(0,f.useEffect)((function(){return(0,k.cf)(o,(function(e){n(e.docs.map((function(e){return e.data()})))}))}),[o]),r}();return void 0===e?null:(0,i.Z)(Ke,{optionSetList:e})},qe=function(){var e=se("game.join.placeholder");return(0,i.Z)(x,{},void 0,Ge||(Ge=(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(xe,{htmlFor:"title"},void 0,(0,i.Z)(Pe.Z,{id:"game.join.label"}))))),(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ae,{name:"gameId",placeholder:e}))),Ve||(Ve=(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ne,{},void 0,(0,i.Z)(Pe.Z,{id:"game.join.action"}))))))},Je=function(){var e=(0,Ce.s0)(),t=(0,f.useMemo)((function(){return{gameId:""}}),[]),r=(0,f.useCallback)((function(t){e((0,De.Gn)(Me,t))}),[e]);return(0,i.Z)(Ne,{defaultValues:t,onSubmit:r},void 0,Fe||(Fe=(0,i.Z)(qe,{})))},Ye=function(){return Be||(Be=(0,i.Z)("div",{className:"GameNew box"},void 0,(0,i.Z)("div",{className:"box__row"},void 0,(0,i.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,i.Z)("div",{className:"GameNew__Item"},void 0,(0,i.Z)(ze,{}))),(0,i.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,i.Z)("div",{className:"GameNew__Item"},void 0,(0,i.Z)(Je,{}))))))},Xe=function(){return Re||(Re=(0,i.Z)("div",{className:"box"},void 0,(0,i.Z)(x,{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(xe,{htmlFor:"name"},void 0,(0,i.Z)(G,{id:"user.name"})))),(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ae,{name:"name"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)("td",{className:"Form__Cell"},void 0,(0,i.Z)(ne,{},void 0,(0,i.Z)(G,{id:"form.save"})))))))},Qe=function(){var e=g(),t=P("user",e.uid),r=(0,f.useMemo)((function(){return{name:""}}),[]),n=(0,f.useCallback)((function(e){return(0,k.pl)(t,e)}),[t]);return(0,i.Z)(Ne,{defaultValues:r,onSubmit:n},void 0,Ae||(Ae=(0,i.Z)(Xe,{})))},$e=function(){var e,t=(e=g(),W(e.uid));return void 0===t?null:t.exists()?(0,i.Z)(Ce.Z5,{},void 0,(0,i.Z)(Ce.AW,{element:He||(He=(0,i.Z)(Ye,{})),path:"".concat(Ee,"*")}),(0,i.Z)(Ce.AW,{element:Ue||(Ue=(0,i.Z)(Se,{})),path:Me})):We||(We=(0,i.Z)(Qe,{}))},et=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),tt=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),rt=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),nt=r("./node_modules/@babel/runtime/helpers/esm/inherits.js"),ot=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),at=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),it=r("./node_modules/baron/src/core.js"),st=r.n(it);function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,at.Z)(e);if(t){var o=(0,at.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,ot.Z)(this,r)}}var dt=0!==function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.setProperty("msOverflowStyle","scrollbar"),document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var r=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),r}();function ft(e){return"bar_".concat(e)}function mt(e){return"track_".concat(e)}var vt=function(e){(0,nt.Z)(r,e);var t=lt(r);function r(e){var n;return(0,et.Z)(this,r),n=t.call(this,e),(0,B.Z)((0,rt.Z)(n),"instanceList",[]),(0,B.Z)((0,rt.Z)(n),"isMount",!1),(0,B.Z)((0,rt.Z)(n),"references",{scroll:f.createRef(),scroller:f.createRef()}),(0,B.Z)((0,rt.Z)(n),"updateOnLayoutChange",function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(void 0,a)}),t),s&&e.apply(void 0,a)}}((function(){n.isMount&&n.instanceList.forEach(n.update)}),300)),(0,B.Z)((0,rt.Z)(n),"referencesInit",(function(e,t){return ct(ct({},e),{},(0,B.Z)((0,B.Z)({},ft(t),f.createRef()),mt(t),f.createRef()))})),(0,B.Z)((0,rt.Z)(n),"renderScrollbar",(function(e){return f.createElement("div",{className:"Scroll__Track Scroll__Track_".concat(e),key:e,ref:n.references[mt(e)]},f.createElement("div",{className:"Scroll__Bar Scroll__Bar_".concat(e),ref:n.references[ft(e)]}))})),(0,B.Z)((0,rt.Z)(n),"scrollInit",(function(e){return st()({bar:n.references[ft(e)].current,barOnCls:"Scroll_On_".concat(e),direction:e,impact:"scroller",root:n.references.scroll.current,scroller:n.references.scroller.current,track:n.references[mt(e)].current})})),n.references=n.props.dirList.reduce(n.referencesInit,n.references),n}return(0,tt.Z)(r,[{key:"render",value:function(){return dt?f.createElement("div",{className:"Scroll",ref:this.references.scroll},f.createElement("div",{className:"Scroll__Scroller",ref:this.references.scroller},this.props.children),this.props.dirList.map(this.renderScrollbar)):this.props.children}},{key:"componentDidMount",value:function(){dt&&(this.instanceList=this.props.dirList.map(this.scrollInit),this.isMount=!0,this.updateOnLayoutChange())}},{key:"componentDidUpdate",value:function(){this.updateOnLayoutChange()}},{key:"update",value:function(e){e.update()}},{key:"componentWillUnmount",value:function(){this.isMount=!1,this.instanceList.forEach(this.dispose)}},{key:"dispose",value:function(e){e.dispose()}}]),r}(f.Component),pt=r("./node_modules/react-redux/es/index.js"),bt=function(){return(0,pt.I0)()},Zt=pt.v9,_t=function(e,t){return function(r){return e(t(r)),r}};function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,et.Z)(this,e),e.host=t}return(0,tt.Z)(e,[{key:"getJSON",value:function(e){return e.json()}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.headers,n=void 0===r?{}:r;return gt(gt({},e.options),{},{headers:gt(gt({},e.options.headers),n)},t)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return this.fetch(t,e.host,r)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t),this.getOptions(r)).then((function(t){return e.getJSON(t)}))}))},{key:"requestLocal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fetch(e,"/planning-poker/local")}}]),e}();(0,B.Z)(yt,"host",""),(0,B.Z)(yt,"options",{headers:{"Content-Type":"application/json"},method:"GET"});var Ot,jt,kt,It,Ct,St=new yt,Nt="currentLocale",xt=r("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),Pt=(0,xt.oM)({initialState:{current:"",data:{},list:[]},name:"locale",reducers:{getList:function(e,t){var r=t.payload;e.list=r.list},getMessages:function(e,t){var r=t.payload,n=r.data,o=r.language;e.data[o]=n},setCurrent:function(e,t){var r=t.payload;e.current=r}}}),wt=function(e){return e[Pt.name]},Et=function(e){return wt(e).data},Mt=function(e){return wt(e).list},Dt=function(e){return wt(e).current},Lt=(0,xt.oM)({initialState:{load:{}},name:"status",reducers:{loadStart:function(e,t){var r=t.payload;e.load[r]=!0},loadStop:function(e,t){var r=t.payload;e.load[r]=!1}}}),Tt=function(e,t){return function(e,t){return function(r){return e(t),r}}(e,Lt.actions.loadStop(t))},Gt=function(e){return e(Lt.actions.loadStart(Pt.actions.getList.type)),St.requestLocal("/api/v1/locale.json").then(_t(e,Pt.actions.getList)).then(Tt(e,Pt.actions.getList.type))},Vt=function(e){return function(t){return localStorage.setItem(Nt,e),t(Pt.actions.setCurrent(e))}},Ft=function(e,t){var r=t(),n=Dt(r)||localStorage.getItem(Nt)||"ru";return e(Vt(n))},Bt=function(e){return function(t){return t(Lt.actions.loadStart(Pt.actions.getMessages.type)),St.requestLocal("/api/v1/locale-".concat(e,".json")).then((function(r){return _t(t,Pt.actions.getMessages)({data:r,language:e}),r})).then(Tt(t,Pt.actions.getMessages.type))}},Rt=function(e){return(0,i.Z)("option",{value:e},e,e)},At=function(){var e=bt(),t=Zt(Dt),r=Zt(Mt),n=Zt(Et),o=(0,f.useState)(t),a=(0,u.Z)(o,2),s=a[0],c=a[1],l=(0,f.useCallback)((function(e){c(e.target.value)}),[]);return(0,f.useEffect)((function(){n[s]?s!==t&&e(Vt(s)):e(Bt(s))}),[e,s,t,n]),(0,i.Z)("select",{className:"LocaleSelector",name:"locale",onBlur:l,onChange:l,value:s},void 0,r.map(Rt))},Wt=r("./node_modules/react-router-dom/dist/index.js"),Ht=function(){return(0,i.Z)("div",{className:"Header"},void 0,(0,i.Z)("div",{className:"Header__Inner box"},void 0,(0,i.Z)("h1",{className:"Header__Title"},void 0,(0,i.Z)(Wt.rU,{className:"Header__TitleLink",to:s},void 0,Ot||(Ot=(0,i.Z)(G,{id:"app.title"})))),jt||(jt=(0,i.Z)("div",{className:"Header__Lang"},void 0,(0,i.Z)(At,{})))))},Ut=function(e){var t=e.children;return(0,i.Z)("div",{className:"Layout"},void 0,kt||(kt=(0,i.Z)("header",{className:"Layout__Header"},void 0,(0,i.Z)(Ht,{}))),(0,i.Z)("div",{className:"Layout__Scroll"},void 0,(0,i.Z)(vt,{dirList:["h","v"]},void 0,(0,i.Z)("div",{className:"Layout__Inner"},void 0,It||(It=(0,i.Z)("div",{className:"Layout__HeaderSize"})),(0,i.Z)("main",{className:"Layout__Body"},void 0,t)))))},Kt=function(){return(0,i.Z)(Ut,{},void 0,(0,i.Z)(N,{},void 0,(0,i.Z)(Ce.Z5,{},void 0,(0,i.Z)(Ce.AW,{element:Ct||(Ct=(0,i.Z)($e,{})),path:"".concat(s,"*")}))))};function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jt=(0,xt.oM)({initialState:{host:""},name:"config",reducers:{update:function(e,t){var r=t.payload;return qt(qt({},e),r)}}}),Yt=function(e){return function(t){return"".concat(t[e])}},Xt=Yt("id"),Qt=function(e){return function(t){return[e(t),t]}},$t=(Qt(Xt),function(e){return function(t){return{data:Object.fromEntries(t.map(Qt(e))),list:t.map(e)}}});$t(Xt);function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rr=$t(Yt("_id")),nr=(0,xt.oM)({initialState:{data:{},list:[]},name:"example",reducers:{getList:function(e,t){var r=t.payload;return tr(tr({},e),rr(r.data))}}}),or=(0,r("./node_modules/redux/es/redux.js").UY)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},Jt.name,Jt.reducer),nr.name,nr.reducer),Pt.name,Pt.reducer),Lt.name,Lt.reducer)),ar={immutableCheck:!1,serializableCheck:!1,thunk:!0},ir=(0,xt.xC)({devTools:!1,middleware:function(e){return e(ar)},reducer:or});var sr=function(e){return e[Jt.name]};function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,at.Z)(e);if(t){var o=(0,at.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,ot.Z)(this,r)}}var cr,lr=function(e){(0,nt.Z)(r,e);var t=ur(r);function r(e){var n;return(0,et.Z)(this,r),n=t.call(this,e),(0,B.Z)((0,rt.Z)(n),"state",void 0),e.dispatch((function(e){return e(Lt.actions.loadStart(Jt.actions.update.type)),St.requestLocal("/api/v1/config.json").then(_t(e,Jt.actions.update)).then(Tt(e,Jt.actions.update.type))})),n}return(0,tt.Z)(r,[{key:"render",value:function(){return this.state?this.props.children:null}},{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.config!==t&&(yt.host=t.host,this.setState(t))}}]),r}(f.Component),dr=(0,pt.$j)((function(e){return{config:sr(e)}}))(lr),fr=function(e){return function(e){return e[Lt.name]}(e).load},mr=r("./node_modules/react-intl/lib/src/components/provider.js"),vr=function(e){var t=e.children,r=bt();(0,f.useEffect)((function(){r(Gt),r(Ft)}),[r]);var n,o=Zt(Dt),a=Zt((n=Pt.actions.getMessages.type,function(e){return fr(e)[n]})),s=Zt(function(e){return function(t){return Et(t)[e]}}(o));return(0,f.useEffect)((function(){s||a||!o||r(Bt(o))}),[r,a,o,s]),s?(0,i.Z)(mr.Z,{locale:o,messages:s},void 0,t):null},pr=r("./node_modules/react-dom/client.js"),br=document.getElementById("root");if(br){var Zr=function(e){return function(){e.render(cr||(cr=(0,i.Z)(f.StrictMode,{},void 0,(0,i.Z)(pt.zt,{store:ir},void 0,(0,i.Z)(vr,{},void 0,(0,i.Z)(Wt.UT,{},void 0,(0,i.Z)(dr,{},void 0,(0,i.Z)(Kt,{}))))))))}}((0,pr.s)(br));Zr()}var _r=function(e){console.error("SW registration failed: ",e)},hr=function(){"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/planning-poker/sw.js").catch(_r)};window.removeEventListener("load",hr),window.addEventListener("load",hr)}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.m=n,e=[],a.O=function(t,r,n,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],o=e[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[u])}))?r.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},a.d(o,i),o},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={main:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(u)var l=u(a)}for(t&&t(r);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},r=self.webpackChunkpokerPlanner=self.webpackChunkpokerPlanner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=a.O(void 0,["vendor"],(function(){return a("./src/index.tsx")}));i=a.O(i),pokerPlanner=i}();