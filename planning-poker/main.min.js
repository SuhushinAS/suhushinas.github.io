var pokerPlanner;!function(){var e,t,n,r,o,a={"./src/icons lazy recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./adjust.svg":["./src/icons/adjust.svg","icons"],"./check.svg":["./src/icons/check.svg","icons"],"./close.svg":["./src/icons/close.svg","icons"],"./coffee.svg":["./src/icons/coffee.svg","icons"],"./favicon.svg":["./src/icons/favicon.svg","icons"],"./favicon_safe.svg":["./src/icons/favicon_safe.svg","icons"],"./favicon_transparent.svg":["./src/icons/favicon_transparent.svg","icons"],"./logo.svg":["./src/icons/logo.svg","icons"],"./logo_large.svg":["./src/icons/logo_large.svg","icons"],"./moon-o.svg":["./src/icons/moon-o.svg","icons"],"./plus.svg":["./src/icons/plus.svg","icons"],"./question.svg":["./src/icons/question.svg","icons"],"./sun-o.svg":["./src/icons/sun-o.svg","icons"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,23)}))}o.keys=function(){return Object.keys(r)},o.id="./src/icons lazy recursive ^\\.\\/.*\\.svg$",e.exports=o},"./src/index.tsx":function(e,t,n){"use strict";var r,o=n("./node_modules/@babel/runtime/helpers/esm/jsx.js"),a="/",i=document.getElementById("root"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/firebase/auth/dist/esm/index.esm.js"),u=n("./node_modules/firebase/app/dist/esm/index.esm.js"),l={apiKey:"AIzaSyAMO8Kwj7ChDikQKJzA7KCp-LYkXDFcKYI",appId:"1:241782390439:web:c10021e740161f63d1a582",authDomain:"tst-project-b3fc3.firebaseapp.com",databaseURL:"https://tst-project-b3fc3-default-rtdb.europe-west1.firebasedatabase.app",messagingSenderId:"241782390439",projectId:"tst-project-b3fc3",storageBucket:"tst-project-b3fc3.appspot.com"},d=n("./node_modules/react/index.js"),f=(0,d.createContext)(void 0),v=function(e){var t=e.children,n=(0,d.useState)(),r=(0,s.A)(n,2),a=r[0],i=r[1];return(0,d.useEffect)((function(){return void 0===a&&i((0,u.Wp)(l)),function(){void 0!==a&&((0,u.NM)(a),i(void 0))}}),[a]),void 0===a?null:(0,o.A)(f.Provider,{value:a},void 0,t)},m=function(){var e=(0,d.useContext)(f);if(void 0===e)throw new Error("useFirebaseAppContext can only be used in a FirebaseAppProvider");return e},p=(0,d.createContext)(void 0),_=function(e){var t=e.children,n=m(),r=(0,d.useState)(),a=(0,s.A)(r,2),i=a[0],u=a[1];return(0,d.useEffect)((function(){u((0,c.xI)(n))}),[n]),void 0===i?null:(0,o.A)(p.Provider,{value:i},void 0,t)},b=(0,d.createContext)(void 0),A=function(e){var t=e.children,n=function(){var e=(0,d.useContext)(p);if(void 0===e)throw new Error("useAuthContext can only be used in a AuthProvider");return e}(),r=(0,d.useState)(),a=(0,s.A)(r,2),i=a[0],u=a[1];return(0,d.useEffect)((function(){(0,c.zK)(n).then((function(e){var t=e.user;return u(t)}))}),[n]),void 0===i?null:(0,o.A)(b.Provider,{value:i},void 0,t)},g=function(){var e=(0,d.useContext)(b);if(void 0===e)throw new Error("useAnonymouslyContext can only be used in a AnonymouslyProvider");return e},h=n("./node_modules/firebase/database/dist/esm/index.esm.js"),y=(0,d.createContext)(void 0),k=function(e){var t=e.children,n=m(),r=(0,d.useState)(),a=(0,s.A)(r,2),i=a[0],c=a[1];return(0,d.useEffect)((function(){c((0,h.C3)(n))}),[n]),void 0===i?null:(0,o.A)(y.Provider,{value:i},void 0,t)},O=n("./node_modules/firebase/firestore/dist/esm/index.esm.js"),I=(0,d.createContext)(void 0),j=function(e){var t=e.children,n=m(),r=(0,d.useState)(),a=(0,s.A)(r,2),i=a[0],c=a[1];return(0,d.useEffect)((function(){return c((0,O.aU)(n)),function(){return c(void 0)}}),[n]),void 0===i?null:(0,o.A)(I.Provider,{value:i},void 0,t)},C=function(){var e=(0,d.useContext)(I);if(void 0===e)throw new Error("useFirestoreContext can only be used in a FirestoreProvider");return e},N=function(e){var t=e.children;return(0,o.A)(v,{},void 0,(0,o.A)(_,{},void 0,(0,o.A)(A,{},void 0,(0,o.A)(j,{},void 0,(0,o.A)(k,{},void 0,t)))))},x=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),S="ru",w="localeCurrent",P=function(e){return{defaultMessage:" ",id:e}},T=n("./node_modules/react-intl/lib/src/components/message.js"),E=function(e){var t=e.id,n=e.values;return d.createElement(T.A,(0,x.A)({},P(t),{values:n}))},D=function(){return r||(r=(0,o.A)("div",{},void 0,(0,o.A)("h3",{},void 0,(0,o.A)(E,{id:"gameTask.empty.title"})),(0,o.A)("p",{},void 0,(0,o.A)(E,{id:"gameTask.empty.description"}))))},M=function(e){var t=e.children,n=e.title;return(0,o.A)("table",{className:"Table"},void 0,n&&(0,o.A)("caption",{},void 0,n),(0,o.A)("tbody",{},void 0,t))},L=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),V=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),B=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),F=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),G=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),q=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),R=function(e,t){var n=e.split(" ");return void 0!==t&&n.push(t),n.join(" ")};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var H=function(e){function t(e){var n,r,o,a;(0,V.A)(this,t),r=this,o=t,a=[e],o=(0,G.A)(o),n=(0,F.A)(r,W()?Reflect.construct(o,a||[],(0,G.A)(r).constructor):o.apply(r,a)),(0,L.A)(n,"isMount",!1),(0,L.A)(n,"state",{symbol:"",view:"",viewBox:""}),(0,L.A)(n,"handleError",(function(){console.warn("".concat(n.props.name," is not found"))})),(0,L.A)(n,"handleImport",(function(e){n.isMount&&n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.default))}));var i=e.name;return i?n.importSvg(i):console.warn("".concat(i," is not correct")),n}return(0,q.A)(t,e),(0,B.A)(t,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props.name;t!==e.name&&this.importSvg(t)}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"importSvg",value:function(e){n("./src/icons lazy recursive ^\\.\\/.*\\.svg$")("./".concat(e,".svg")).then(this.handleImport).catch(this.handleError)}},{key:"render",value:function(){var e=this.state,t=e.symbol,n=e.viewBox;return t?(0,o.A)("svg",{className:R("SvgIcon",this.props.className),viewBox:n},void 0,(0,o.A)("use",{xlinkHref:t})):null}}])}(d.PureComponent);(0,L.A)(H,"defaultProps",{name:""});var U=function(e){return e[e.coffee=-3]="coffee",e[e.reset=-1]="reset",e[e.unsure=-2]="unsure",e}({}),K=(0,L.A)((0,L.A)((0,L.A)({},U.coffee,(0,o.A)(H,{name:"coffee"})),U.reset,"   "),U.unsure,(0,o.A)(H,{name:"question"})),z=function(e,t){var n=C();return(0,d.useMemo)((function(){return(0,O.H9)(n,e,t)}),[n,e,t])},Q=function(e){var t=(0,d.useState)(),n=(0,s.A)(t,2),r=n[0],o=n[1],a=z("user",e);return(0,d.useEffect)((function(){return(0,O.aQ)(a,o)}),[a]),r},J=function(e){var t=function(){var e=(0,d.useContext)(y);if(void 0===e)throw new Error("useDatabaseContext can only be used in a DatabaseProvider");return e}();return(0,d.useMemo)((function(){return(0,h.KR)(t,e)}),[t,e])},X=function(e,t){return(0,d.useEffect)((function(){return(0,h.Zy)(e,t)}),[t,e])},Y=(0,o.A)(H,{name:"check"}),$=function(e){var t=e.gameId,n=e.isCreator,r=e.isSelf,a=e.isVoted,i=e.memberId,c=e.votes,u=Q(i),l=function(e){var t=J("user/".concat(e)),n=(0,d.useState)(),r=(0,s.A)(n,2),o=r[0],a=r[1];return X(t,(function(e){return a(e.val())})),o}(i),f=(0,d.useMemo)((function(){var e=["GameMember__Name","offset"];return n&&e.push("GameMember__Name_Creator"),r&&e.push("GameMember__Name_Self"),l===t&&e.push("GameMember__Name_Online"),e.join(" ")}),[t,n,r,l]),v=(0,d.useMemo)((function(){var e,t=null!==(e=c[i])&&void 0!==e?e:U.reset;return U.reset===t?K[U.reset]:a?U[t]?K[t]:t:Y}),[a,i,c]);if(void 0===u||!u.exists())return null;var m=u.data().name;return(0,o.A)("tr",{className:"GameMember"},void 0,(0,o.A)("td",{className:"Table__Cell Table__Cell_Title"},void 0,(0,o.A)("p",{className:f,title:m},void 0,m)),(0,o.A)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,o.A)("h4",{className:"offset_ver"},void 0,v)))},ee=function(e){var t=e.game,n=e.gameId,r=e.taskData,a=e.title,i=e.userId,s=(0,d.useMemo)((function(){return Object.keys(t.memberIds).toSorted()}),[t.memberIds]),c=(0,d.useCallback)((function(e){return(0,o.A)($,{gameId:n,isCreator:t.creatorId===e,isSelf:i===e,isVoted:r.isVoted,memberId:e,votes:r.votes},e)}),[t.creatorId,n,r.isVoted,r.votes,i]);return(0,o.A)(M,{title:(0,o.A)("h4",{},void 0,a)},void 0,s.map(c))},te=function(e){var t=e.game,n=e.gameId,r=e.taskData,a=e.userId;return void 0===r?null:(0,o.A)(ee,{game:t,gameId:n,taskData:r,title:r.title,userId:a})},ne=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),re=function(e,t){return(0,d.useMemo)((function(){return R(e,t)}),[t,e])},oe=["className"],ae=function(e){var t=e.className,n=(0,ne.A)(e,oe),r=re("Button",t);return d.createElement("button",(0,x.A)({className:r},n))},ie=function(e){var t=e.isVoted,n=e.taskId,r=e.votes,a=z("task",n),i=(0,d.useMemo)((function(){return Object.values(r).some((function(e){return e!==U.reset}))}),[r]),s=(0,d.useMemo)((function(){return t?"game.reset":"game.reveal"}),[t]),c=(0,d.useCallback)((function(){return t?(0,O.mZ)(a,{isVoted:!1,votes:{}}):(0,O.mZ)(a,{isVoted:!0})}),[t,a]);return(0,o.A)(ae,{className:"Button_Primary offset",disabled:!i,onClick:c,type:"button"},void 0,(0,o.A)(E,{id:s}))},se=n("./node_modules/react-redux/dist/react-redux.mjs"),ce=function(){return(0,se.wA)()},ue=se.d4,le=["className","onChange","options"],de=function(e){var t=e.className,n=e.onChange,r=e.options,a=(0,ne.A)(e,le),i=re("Select",t);return d.createElement("select",(0,x.A)({className:i,onBlur:n,onChange:n},a),r.map((function(e){return(0,o.A)("option",{value:e.value},e.value,e.title)})))},fe=n("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),ve=(0,fe.Z0)({initialState:{current:"",data:{},list:[]},name:"locale",reducers:{getList:function(e,t){var n=t.payload;e.list=n.list},getMessages:function(e,t){var n=t.payload,r=n.data,o=n.locale;e.data[o]=r},setCurrent:function(e,t){var n=t.payload;e.current=n}}}),me=ve.actions,pe=function(e){return e[ve.name]},_e=function(e){return pe(e).data},be=function(e){return pe(e).list},Ae=function(e){return pe(e).current},ge=function(e){var t=Ae(e);return _e(e)[t]},he=function(e){var t=C();return(0,d.useMemo)((function(){return(0,O.rJ)(t,e)}),[t,e])};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe,Ie=function(){var e=(0,d.useState)([]),t=(0,s.A)(e,2),n=t[0],r=t[1],o=he("optionSet");return(0,d.useEffect)((function(){return(0,O.aQ)(o,(function(e){var t=e.docs.map((function(e){return ke(ke({},e.data()),{},{id:e.id})}));r(t)}))}),[o]),n},je=function(e){var t=e.gameId,n=e.optionSetId,r=Ie(),a=ue(ge),i=z("game",t),s=(0,d.useMemo)((function(){return r.map((function(e){var t,n=null!==(t=a["optionSet.title.".concat(e.titleKey)])&&void 0!==t?t:e.title,r=e.optionList.slice(0,7).join(", ");return{title:"".concat(n," (").concat(r,"...)"),value:e.id}}))}),[a,r]),c=(0,d.useCallback)((function(e){(0,O.mZ)(i,{optionSetId:e.currentTarget.value})}),[i]);return(0,o.A)(de,{onChange:c,options:s,value:n})},Ce=function(e){var t=e.children,n=e.isVoted,r=e.option,a=e.taskId,i=e.userId,s=e.vote,c=z("task",a),u=(0,d.useCallback)((function(){(0,O.mZ)(c,(0,L.A)({},"votes.".concat(i),r))}),[r,c,i]);return(0,o.A)(ae,{className:"Button_Primary offset_ver",disabled:n||s===r,onClick:u,type:"button"},void 0,null!=t?t:r)},Ne=function(e){var t=e.game,n=e.taskData,r=e.taskId,a=e.userId,i=Ie(),s=(0,d.useMemo)((function(){var e,n;return void 0===t.optionSetId?null===(n=i[0])||void 0===n?void 0:n.optionList:null===(e=Object.fromEntries(i.map((function(e){return[e.id,e]})))[t.optionSetId])||void 0===e?void 0:e.optionList}),[t.optionSetId,i]);return(0,o.A)("div",{className:"TaskControl__Row"},void 0,null==s?void 0:s.map((function(e){return(0,o.A)("div",{className:"TaskControl__Item"},e,(0,o.A)(Ce,{isVoted:n.isVoted,option:e,taskId:r,userId:a,vote:n.votes[a]},e))})),(0,o.A)("div",{className:"TaskControl__Item"},void 0,(0,o.A)(Ce,{isVoted:n.isVoted,option:U.unsure,taskId:r,userId:a,vote:n.votes[a]},void 0,K[U.unsure])),(0,o.A)("div",{className:"TaskControl__Item"},void 0,(0,o.A)(Ce,{isVoted:n.isVoted,option:U.coffee,taskId:r,userId:a,vote:n.votes[a]},void 0,K[U.coffee])),(0,o.A)("div",{className:"TaskControl__Item"},void 0,(0,o.A)(Ce,{isVoted:n.isVoted,option:U.reset,taskId:r,userId:a,vote:n.votes[a]},void 0,K[U.reset])))},xe=function(e){var t=e.game,n=e.gameId,r=e.taskData,a=e.taskId,i=e.userId;return void 0===r?null:(0,o.A)("div",{className:"TaskControl"},void 0,t.creatorId===i&&(0,o.A)("div",{className:"TaskControl__Row"},void 0,(0,o.A)("div",{className:"TaskControl__Item"},void 0,(0,o.A)(je,{gameId:n,optionSetId:t.optionSetId}))),r&&(0,o.A)(Ne,{game:t,taskData:r,taskId:a,userId:i}),t.creatorId===i&&(0,o.A)("div",{className:"TaskControl__Row"},void 0,(0,o.A)("div",{className:"TaskControl__Item"},void 0,(0,o.A)(ie,{isVoted:r.isVoted,taskId:a,votes:r.votes}))))},Se=function(e){var t=e.game,n=e.gameId,r=e.taskId,a=e.userId,i=function(e){var t=(0,d.useState)(),n=(0,s.A)(t,2),r=n[0],o=n[1],a=z("task",e);return(0,d.useEffect)((function(){return(0,O.aQ)(a,o)}),[a]),r}(r),c=(0,d.useMemo)((function(){if(void 0!==i&&i.exists())return i.data()}),[i]);return(0,o.A)("div",{className:"GameTask"},void 0,(0,o.A)(te,{game:t,gameId:n,taskData:c,userId:a}),(0,o.A)(xe,{game:t,gameId:n,taskData:c,taskId:r,userId:a}))},we=function(e){var t=e.game,n=e.gameId,r=e.userId;return void 0===t.taskId?Oe||(Oe=(0,o.A)(D,{})):(0,o.A)(Se,{game:t,gameId:n,taskId:t.taskId,userId:r})},Pe=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),Te=n("./node_modules/@babel/runtime/regenerator/index.js"),Ee=n.n(Te),De=n("./node_modules/react-hook-form/dist/index.esm.mjs"),Me=["className","disabled"],Le=function(e){var t=e.className,n=e.disabled,r=(0,ne.A)(e,Me),o=(0,De.xW)().formState,a=o.isDirty,i=o.isLoading,s=o.isSubmitting,c=o.isValid,u=o.isValidating,l=re("Button_Primary",t),f=!a||i||s||!c||u||n;return d.createElement(ae,(0,x.A)({className:l,disabled:f},r))},Ve=["className"],Be=d.forwardRef((function(e,t){var n=e.className,r=(0,ne.A)(e,Ve),o=re("Input",n);return d.createElement("input",(0,x.A)({className:o,ref:t},r))}));Be.displayName="Input";var Fe=["className","id","name","required"],Ge=function(e){e.className;var t=e.id,n=e.name,r=e.required,o=(0,ne.A)(e,Fe),a=(0,De.xW)().control,i=(0,De.as)({control:a,name:n,rules:{required:r}}).field;return d.createElement(Be,(0,x.A)({id:null!=t?t:n,required:r},i,o))},qe=function(e,t){return function(n){return e(t(n)),n}};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,V.A)(this,e),e.host=t}return(0,B.A)(e,[{key:"getJSON",value:function(e){return e.json()}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headers,r=void 0===n?{}:n;return Ze(Ze({},e.options),{},{headers:Ze(Ze({},e.options.headers),r)},t)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return this.fetch(t,e.host,n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t),this.getOptions(n)).then((function(t){return e.getJSON(t)}))}))},{key:"requestLocal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fetch(e,"/planning-poker/local")}}])}();(0,L.A)(We,"host",""),(0,L.A)(We,"options",{headers:{"Content-Type":"application/json"},method:"GET"});var He,Ue,Ke,ze,Qe,Je,Xe,Ye,$e=new We,et=(0,fe.Z0)({initialState:{load:{}},name:"status",reducers:{loadStart:function(e,t){var n=t.payload;e.load[n]=!0},loadStop:function(e,t){var n=t.payload;e.load[n]=!1}}}),tt=et.actions,nt=function(e,t){return function(e,t){return function(n){return e(t),n}}(e,tt.loadStop(t))},rt=function(e){return e(tt.loadStart(me.getList.type)),$e.requestLocal("/api/v1/locale.json").then(qe(e,me.getList)).then(nt(e,me.getList.type))},ot=function(e){return function(t){return localStorage.setItem(w,e),t(me.setCurrent(e))}},at=function(e){return function(t){return t(tt.loadStart(me.getMessages.type)),$e.requestLocal("/api/v1/locale-".concat(e,".json")).then((function(n){return qe(t,me.getMessages)({data:n,locale:e}),n})).then(nt(t,me.getMessages.type))}},it=n("./node_modules/react-intl/lib/src/components/useIntl.js"),st=function(){var e=ce(),t=ue(be);(0,d.useEffect)((function(){var n=function(e){try{var t=localStorage.getItem(w);return null===t?S:e.includes(t)?t:S}catch(e){return S}}(t);e(ot(n))}),[e,t])},ct=function(){var e=(0,it.A)();return(0,d.useMemo)((function(){return function(e){return function(t,n){return e.formatMessage(P(t),n)}}(e)}),[e])},ut=function(e,t){var n=ct();return(0,d.useMemo)((function(){return n(e,t)}),[n,e,t])},lt=function(e){var t=e.defaultValues,n=e.onSubmit,r=(0,De.mN)({defaultValues:t}),a=ut("task.title"),i=(0,d.useCallback)(function(){var e=(0,Pe.A)(Ee().mark((function e(o){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o);case 2:r.reset(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,r,n]);return d.createElement(De.Op,r,(0,o.A)("form",{onSubmit:r.handleSubmit(i)},void 0,(0,o.A)(M,{},void 0,(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Table__Cell Table__Cell_Title"},void 0,(0,o.A)(Ge,{className:"TaskForm__Input",name:"title",placeholder:a})),He||(He=(0,o.A)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,o.A)(Le,{className:"offset"},void 0,(0,o.A)(H,{name:"plus"}))))))))},dt=function(e){var t=e.creatorId,n=e.gameId,r=(0,d.useMemo)((function(){return{createDate:(0,O.O5)(),creatorId:t,gameId:n,isVoted:!1,title:"",votes:{}}}),[t,n]),a=he("task"),i=z("game",n),s=(0,d.useCallback)((function(e){return(0,O.gS)(a,e).then((function(e){return(0,O.mZ)(i,{taskId:e.id})}))}),[i,a]);return(0,o.A)(lt,{defaultValues:r,onSubmit:s})},ft=function(e){var t=e.description,n=e.title;return(0,o.A)("div",{},void 0,(0,o.A)("h3",{},void 0,n),(0,o.A)("p",{},void 0,t))},vt=function(e){var t=e.description,n=e.title;return(0,o.A)(ft,{description:(0,o.A)(E,{id:t}),title:(0,o.A)(E,{id:n})})},mt=function(){return Ue||(Ue=(0,o.A)(vt,{description:"task.empty.description",title:"task.empty.title"}))},pt=function(){},_t=function(e){var t=e.action,n=e.className,r=e.index,a=e.onClick,i=void 0===a?pt:a,s=e.task,c=e.voteAve;return(0,o.A)("tr",{className:n},void 0,(0,o.A)("td",{className:"TaskItem__Cell Table__Cell Table__Cell_Control Table__Cell_Control_Fixed",onClick:i},void 0,(0,o.A)("p",{className:"offset_ver"},void 0,r+1)),(0,o.A)("td",{className:"TaskItem__Cell Table__Cell Table__Cell_Title",onClick:i},void 0,(0,o.A)("p",{className:"TaskItem__Title",title:s.title},void 0,s.title)),(0,o.A)("td",{className:"TaskItem__Cell Table__Cell Table__Cell_Control Table__Cell_Control_Fixed",onClick:i},void 0,(0,o.A)("p",{className:"offset_ver"},void 0,c)),t)},bt=function(e){var t=e.className,n=e.game,r=e.gameId,a=e.index,i=e.task,s=e.taskId,c=e.taskIdSelect,u=e.voteAve,l=z("game",r),f=z("task",s),v=re("TaskItem_Hover",t),m=(0,d.useCallback)((function(){return(0,O.mZ)(l,{taskId:s})}),[l,s]),p=(0,d.useCallback)((function(){return s===n.taskId&&(void 0===c?(0,O.mZ)(l,{taskId:(0,O.CL)()}):(0,O.mZ)(l,{taskId:c})),(0,O.kd)(f)}),[n.taskId,l,f,s,c]);return(0,o.A)(_t,{action:(0,o.A)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,o.A)(ae,{className:"Button_Danger offset_ver",onClick:p,type:"button"},void 0,Ke||(Ke=(0,o.A)(H,{name:"close"})))),className:v,index:a,onClick:m,task:i,voteAve:u})},At=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),gt=function(e){return Math.round(e.reduce((function(e,t){return e+t}),0)/e.length)},ht=function(e){var t=e.game,n=e.gameId,r=e.index,a=e.isCreator,i=e.task,s=e.taskId,c=e.taskIdSelect,u=(0,d.useMemo)((function(){var e=["TaskItem","TaskItem_Hover"];return s===t.taskId&&e.push("TaskItem_Current"),e.join(" ")}),[t.taskId,s]),l=function(e,t,n){return(0,d.useMemo)((function(){if(0===e.length)return K[U.reset];if(!t)return Y;var r=e.filter((function(e){return U[e]})),o=Math.min.apply(Math,[0].concat((0,At.A)(r)));return o?K[o]:n(e)}),[n,t,e])}((0,d.useMemo)((function(){return Object.values(i.votes).filter((function(e){return e!==U.reset}))}),[i.votes]),i.isVoted,gt);return a?(0,o.A)(bt,{className:u,game:t,gameId:n,index:r,task:i,taskId:s,taskIdSelect:c,voteAve:l}):(0,o.A)(_t,{className:u,index:r,task:i,voteAve:l})},yt=new Date(0),kt=O.Dc.fromDate(yt),Ot=function(e,t){var n,r=e.data(),o=[null!==(n=r.createDate)&&void 0!==n?n:kt,r.title].join("_");return{data:r,id:e.id,index:t,sortProp:o}},It=function(e){var t=e.game,n=e.gameId,r=e.isCreator,a=e.taskList,i=(0,d.useMemo)((function(){return a.map(Ot).toSorted((function(e,t){return e.sortProp===t.sortProp?0:e.sortProp>t.sortProp?1:-1}))}),[a]),s=(0,d.useCallback)((function(e,a){var s,c=null!==(s=i[a+1])&&void 0!==s?s:i[a-1];return(0,o.A)(ht,{game:t,gameId:n,index:a,isCreator:r,task:e.data,taskId:e.id,taskIdSelect:null==c?void 0:c.id},e.id)}),[t,n,r,i]);return(0,o.A)(M,{title:ze||(ze=(0,o.A)("h4",{},void 0,(0,o.A)(E,{id:"task.list.title"})))},void 0,i.map(s))},jt=function(e,t){return(0,d.useMemo)((function(){return(0,O.P)(e,t)}),[e,t])},Ct=function(e){var t=e.game,n=e.gameId,r=e.isCreator,a=function(e){var t=(0,d.useState)(),n=(0,s.A)(t,2),r=n[0],o=n[1],a=(0,d.useMemo)((function(){return(0,O._M)("gameId","==",e)}),[e]),i=jt(he("task"),a);return(0,d.useEffect)((function(){return(0,O.aQ)(i,o)}),[i]),r}(n);return void 0===a?null:a.empty?Qe||(Qe=(0,o.A)(mt,{})):(0,o.A)(It,{game:t,gameId:n,isCreator:r,taskList:a.docs})},Nt=function(e){var t=e.game,n=e.gameId,r=e.userId===t.creatorId;return(0,o.A)("div",{},void 0,(0,o.A)("div",{},void 0,(0,o.A)(Ct,{game:t,gameId:n,isCreator:r})),r&&(0,o.A)("div",{},void 0,(0,o.A)(dt,{creatorId:t.creatorId,gameId:n})))},xt=function(e){var t=e.game,n=e.gameId;!function(e){var t=g(),n=z("game",e);(0,d.useEffect)((function(){(0,O.mZ)(n,(0,L.A)({},"memberIds.".concat(t.uid),!0))}),[t.uid,n])}(n),function(e){var t=g(),n=J(".info/connected"),r=J("user/".concat(t.uid));X(n,(function(t){!0===t.val()&&(0,h.yX)(r).remove().then((function(){(0,h.hZ)(r,e)}))}))}(n);var r=(0,d.useMemo)((function(){return t.data()}),[t]),a=g().uid;return(0,o.A)("div",{className:"GameItemContent"},void 0,(0,o.A)("div",{className:"GameItemContent__Header box"},void 0,(0,o.A)("div",{className:"box__row"},void 0,(0,o.A)("h2",{className:"GameItemContent__Title box__col box__col_xs_12 box__col_sm_6 box__col_md_5 box__col_lg_4"},void 0,r.title," (",r.createDate.toDate().toLocaleDateString(),")"),(0,o.A)("h2",{className:"GameItemContent__Code box__col box__col_xs_12 box__col_sm_6 box__col_md_7 box__col_lg_8"},void 0,n))),(0,o.A)("div",{className:"GameItemContent__Main box"},void 0,(0,o.A)("div",{className:"box__row"},void 0,(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_sm_6 box__col_md_5 box__col_lg_4"},void 0,(0,o.A)(we,{game:r,gameId:n,userId:a})),(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_sm_6 box__col_md_7 box__col_lg_8"},void 0,(0,o.A)(Nt,{game:r,gameId:n,userId:a})))))},St=n("./node_modules/react-router/dist/development/chunk-GNGMS2XR.mjs"),wt=function(){var e=(0,St.g)().gameId,t=void 0===e?"":e,n=function(e){var t=(0,d.useState)(),n=(0,s.A)(t,2),r=n[0],o=n[1],a=z("game",e);return(0,d.useEffect)((function(){return(0,O.aQ)(a,o)}),[a]),r}(t);return void 0===n?null:n.exists()?(0,o.A)(xt,{game:n,gameId:t}):(0,o.A)(St.C5,{to:a})},Pt=function(e){var t=e.children,n=e.defaultValues,r=e.onSubmit,a=(0,De.mN)({defaultValues:n});return d.createElement(De.Op,a,(0,o.A)("form",{onSubmit:a.handleSubmit(r)},void 0,t))},Tt=function(e){var t=e.children,n=e.htmlFor;return(0,o.A)("label",{className:"Label",htmlFor:n},void 0,t)},Et=n("./node_modules/react-intl/src/components/message.js"),Dt=function(){var e=ut("game.new.placeholder");return(0,o.A)(M,{title:Je||(Je=(0,o.A)(Tt,{htmlFor:"title"},void 0,(0,o.A)(Et.A,{id:"game.new.label"})))},void 0,(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Ge,{name:"title",placeholder:e,required:!0}))),Xe||(Xe=(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Le,{className:"offset"},void 0,(0,o.A)(Et.A,{id:"game.new.action"}))))))},Mt="/",Lt="/:gameId";function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft,Gt,qt,Rt,Zt,Wt,Ht,Ut,Kt,zt,Qt,Jt,Xt={title:""},Yt=function(){var e=(0,St.Zp)(),t=g(),n=he("game"),r=(0,d.useCallback)((function(r){var o=Bt(Bt({},r),{},{createDate:(0,O.O5)(),creatorId:t.uid});return(0,O.gS)(n,o).then((function(t){e((0,St.tW)(Lt,{gameId:t.id}))}))}),[t.uid,n,e]);return(0,o.A)(Pt,{defaultValues:Xt,onSubmit:r},void 0,Ye||(Ye=(0,o.A)(Dt,{})))},$t=function(){var e=ut("game.join.placeholder");return(0,o.A)(M,{title:Ft||(Ft=(0,o.A)(Tt,{htmlFor:"title"},void 0,(0,o.A)(Et.A,{id:"game.join.label"})))},void 0,(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Ge,{name:"gameId",placeholder:e,required:!0}))),Gt||(Gt=(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Le,{className:"offset"},void 0,(0,o.A)(Et.A,{id:"game.join.action"}))))))},en=function(){var e=(0,St.Zp)(),t=(0,d.useMemo)((function(){return{gameId:""}}),[]),n=(0,d.useCallback)((function(t){e((0,St.tW)(Lt,t))}),[e]);return(0,o.A)(Pt,{defaultValues:t,onSubmit:n},void 0,qt||(qt=(0,o.A)($t,{})))},tn=function(){return Rt||(Rt=(0,o.A)(vt,{description:"game.empty.description",title:"game.empty.title"}))},nn=function(e){var t=e.game,n=e.gameId,r=e.index,a=(0,o.A)(St.N_,{className:"GameListItem__Link",to:(0,St.tW)(Lt,{gameId:n})});return(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,a,(0,o.A)("p",{className:"offset_ver"},void 0,r+1)),(0,o.A)("td",{className:"Table__Cell Table__Cell_Title"},void 0,a,(0,o.A)("p",{className:"offset"},void 0,t.title," (",t.createDate.toDate().toLocaleDateString(),")")))},rn=new Date(0),on=O.Dc.fromDate(rn),an=function(e,t){var n,r=e.data(),o=[null!==(n=r.createDate)&&void 0!==n?n:on,r.title].join("_");return{data:r,id:e.id,index:t,sortProp:o}},sn=function(e){var t=e.gameList,n=(0,d.useMemo)((function(){return t.map(an).toSorted((function(e,t){return e.sortProp===t.sortProp?0:e.sortProp>t.sortProp?1:-1}))}),[t]),r=(0,d.useCallback)((function(e,t){return(0,o.A)(nn,{game:e.data,gameId:e.id,index:t},e.id)}),[]);return(0,o.A)(M,{title:Zt||(Zt=(0,o.A)("h4",{},void 0,(0,o.A)(E,{id:"game.list.title"})))},void 0,n.map(r))},cn=function(){var e=function(e){var t=(0,d.useState)(),n=(0,s.A)(t,2),r=n[0],o=n[1],a=(0,d.useMemo)((function(){return(0,O._M)("memberIds.".concat(e),"!=",null)}),[e]),i=jt(he("game"),a);return(0,d.useEffect)((function(){return(0,O.aQ)(i,o)}),[i]),r}(g().uid);return void 0===e?null:e.empty?Wt||(Wt=(0,o.A)(tn,{})):(0,o.A)(sn,{gameList:e.docs})},un=function(){return Ht||(Ht=(0,o.A)("div",{className:"GameNew box"},void 0,(0,o.A)("div",{className:"box__row"},void 0,(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_md_4"},void 0,(0,o.A)("div",{className:"box__row"},void 0,(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_sm_6 box__col_md_12"},void 0,(0,o.A)("div",{className:"GameNew__Item"},void 0,(0,o.A)(Yt,{}))),(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_sm_6 box__col_md_12"},void 0,(0,o.A)("div",{className:"GameNew__Item"},void 0,(0,o.A)(en,{}))))),(0,o.A)("div",{className:"box__col box__col_xs_12 box__col_md_8"},void 0,(0,o.A)("div",{className:"GameNew__Item"},void 0,(0,o.A)(cn,{}))))))},ln=function(){return Ut||(Ut=(0,o.A)("div",{className:"box"},void 0,(0,o.A)(M,{title:(0,o.A)(Tt,{htmlFor:"name"},void 0,(0,o.A)(E,{id:"user.name"}))},void 0,(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Ge,{name:"name"}))),(0,o.A)("tr",{},void 0,(0,o.A)("td",{className:"Form__Cell"},void 0,(0,o.A)(Le,{className:"offset"},void 0,(0,o.A)(E,{id:"form.save"})))))))},dn=function(){var e=g(),t=z("user",e.uid),n=(0,d.useMemo)((function(){return{name:""}}),[]),r=(0,d.useCallback)((function(e){return(0,O.BN)(t,e)}),[t]);return(0,o.A)(Pt,{defaultValues:n,onSubmit:r},void 0,Kt||(Kt=(0,o.A)(ln,{})))},fn=function(){var e,t=(e=g(),Q(e.uid));return void 0===t?null:t.exists()?(0,o.A)(St.BV,{},void 0,(0,o.A)(St.qh,{element:Qt||(Qt=(0,o.A)(un,{})),path:"".concat(Mt,"*")}),(0,o.A)(St.qh,{element:Jt||(Jt=(0,o.A)(wt,{})),path:Lt})):zt||(zt=(0,o.A)(dn,{}))},vn=n("./node_modules/baron/src/core.js"),mn=n.n(vn);function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bn=function(){return!!e})()}var An=0!==function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.setProperty("msOverflowStyle","scrollbar"),document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),n}();function gn(e){return"bar_".concat(e)}function hn(e){return"track_".concat(e)}var yn,kn,On,In,jn,Cn=function(e){function t(e){var n,r,o,a;return(0,V.A)(this,t),r=this,o=t,a=[e],o=(0,G.A)(o),n=(0,F.A)(r,bn()?Reflect.construct(o,a||[],(0,G.A)(r).constructor):o.apply(r,a)),(0,L.A)(n,"instanceList",[]),(0,L.A)(n,"isMount",!1),(0,L.A)(n,"references",{scroll:(0,d.createRef)(),scroller:(0,d.createRef)()}),(0,L.A)(n,"updateOnLayoutChange",function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=r&&!n;clearTimeout(n),n=setTimeout((function(){n=null,r||e.apply(void 0,a)}),t),s&&e.apply(void 0,a)}}((function(){n.isMount&&n.instanceList.forEach(n.update)}),300)),(0,L.A)(n,"referencesInit",(function(e,t){return _n(_n({},e),{},(0,L.A)((0,L.A)({},gn(t),(0,d.createRef)()),hn(t),(0,d.createRef)()))})),(0,L.A)(n,"renderScrollbar",(function(e){return d.createElement("div",{className:"Scroll__Track Scroll__Track_".concat(e),key:e,ref:n.references[hn(e)]},d.createElement("div",{className:"Scroll__Bar Scroll__Bar_".concat(e),ref:n.references[gn(e)]}))})),(0,L.A)(n,"scrollInit",(function(e){return mn()({bar:n.references[gn(e)].current,barOnCls:"Scroll_On_".concat(e),direction:e,impact:"scroller",root:n.references.scroll.current,scroller:n.references.scroller.current,track:n.references[hn(e)].current})})),n.references=n.props.dirList.reduce(n.referencesInit,n.references),n}return(0,q.A)(t,e),(0,B.A)(t,[{key:"render",value:function(){return An?d.createElement("div",{className:"Scroll",ref:this.references.scroll},d.createElement("div",{className:"Scroll__Scroller",ref:this.references.scroller},this.props.children),this.props.dirList.map(this.renderScrollbar)):this.props.children}},{key:"componentDidMount",value:function(){An&&(this.instanceList=this.props.dirList.map(this.scrollInit),this.isMount=!0,this.updateOnLayoutChange())}},{key:"componentDidUpdate",value:function(){this.updateOnLayoutChange()}},{key:"update",value:function(e){e.update()}},{key:"componentWillUnmount",value:function(){this.isMount=!1,this.instanceList.forEach(this.dispose)}},{key:"dispose",value:function(e){e.dispose()}}])}(d.Component),Nn=function(e){return(0,o.A)("option",{value:e},e,e)},xn=function(){var e=ce(),t=ue(Ae),n=ue(be),r=ue(_e),a=(0,d.useState)(t),i=(0,s.A)(a,2),c=i[0],u=i[1],l=(0,d.useCallback)((function(e){u(e.target.value)}),[]);return(0,d.useEffect)((function(){r[c]?c!==t&&e(ot(c)):e(at(c))}),[e,c,t,r]),(0,o.A)("select",{className:"LocaleSelector",name:"locale",onBlur:l,onChange:l,value:c},void 0,n.map(Nn))},Sn=function(e){return e.dark="dark",e.light="light",e}({}),wn=function(e){return e.auto="auto",e}({}),Pn=wn.auto,Tn="themeCurrent",En=window.matchMedia("(prefers-color-scheme: dark)"),Dn=function(){try{var e=localStorage.getItem(Tn);if(null===e)return Pn;var t=Sn[e];return void 0===t?Pn:t}catch(e){return Pn}},Mn=function(e){return e.matches?Sn.dark:Sn.light},Ln={current:Dn(),device:Mn(En)},Vn=(0,fe.Z0)({initialState:Ln,name:"theme",reducers:{setCurrent:function(e,t){var n=t.payload;e.current=n},setDevice:function(e,t){var n=t.payload;e.device=n}}}),Bn=Vn.actions,Fn=function(e){return function(t){return localStorage.setItem(Tn,e),t(Bn.setCurrent(e))}},Gn=(0,L.A)((0,L.A)((0,L.A)({},wn.auto,"adjust"),Sn.dark,"moon-o"),Sn.light,"sun-o"),qn=function(e){var t=e.isCurrent,n=e.theme,r=(0,d.useMemo)((function(){var e=["ThemeSelector__Icon"];return t&&e.push("ThemeSelector__Icon_Current"),e.join(" ")}),[t]);return(0,o.A)(H,{className:r,name:Gn[n]})},Rn=n("./node_modules/reselect/dist/reselect.mjs"),Zn=function(e){return e[Vn.name]},Wn=function(e){return Zn(e).current},Hn=(0,Rn.Mz)([Wn,function(e){return Zn(e).device}],(function(e,t){return e===wn.auto?t:e})),Un=document.body,Kn=[wn.auto,Sn.dark,Sn.light],zn=Object.fromEntries(Kn.map((function(e,t){return[e,t]}))),Qn=function(){var e=ce(),t=ue(Wn),n=(0,d.useCallback)((function(){var n=(zn[t]+1)%Kn.length,r=Kn[n];e(Fn(r))}),[e,t]);return function(){var e=ce();(0,d.useEffect)((function(){var t=Dn();e(Fn(t))}),[e])}(),function(){var e=ce(),t=(0,d.useCallback)((function(t){var n=Mn(t);e(Bn.setDevice(n))}),[e]);(0,d.useEffect)((function(){var t=Mn(En);e(Bn.setDevice(t))}),[e]),(0,d.useEffect)((function(){return En.addEventListener("change",t),function(){En.removeEventListener("change",t)}}),[t])}(),function(){var e=ue(Hn);(0,d.useEffect)((function(){Un.classList.add("theme")}),[]),(0,d.useEffect)((function(){Un.classList.remove("theme_".concat(Sn.dark),"theme_".concat(Sn.light)),Un.classList.add("theme_".concat(e))}),[e])}(),(0,o.A)("button",{className:"ThemeSelector",onClick:n,type:"button"},void 0,(0,o.A)("div",{className:"ThemeSelector__IconWrapper"},void 0,Kn.map((function(e){return(0,o.A)(qn,{isCurrent:e===t,theme:e},e)}))))},Jn=function(){return(0,o.A)("div",{className:"Header offset_ver"},void 0,(0,o.A)("div",{className:"Header__Box box "},void 0,(0,o.A)("div",{className:"Header__Row box__row"},void 0,(0,o.A)("h1",{className:"Header__Title box__col box__col_xs_auto"},void 0,(0,o.A)(St.N_,{className:"Header__TitleLink",to:a},void 0,yn||(yn=(0,o.A)(E,{id:"app.title"})))),kn||(kn=(0,o.A)("div",{className:"Header__Col box__col box__col_xs_auto"},void 0,(0,o.A)(Qn,{}))),On||(On=(0,o.A)("div",{className:"Header__Col box__col box__col_xs_auto"},void 0,(0,o.A)(xn,{}))))))},Xn=function(e){var t=e.children;return(0,o.A)("div",{className:"Layout"},void 0,In||(In=(0,o.A)("header",{className:"Layout__Header"},void 0,(0,o.A)(Jn,{}))),(0,o.A)("div",{className:"Layout__Scroll"},void 0,(0,o.A)(Cn,{dirList:["h","v"]},void 0,(0,o.A)("div",{className:"Layout__Inner"},void 0,(0,o.A)("main",{className:"Layout__Body"},void 0,t)))))},Yn=function(){return(0,o.A)(Xn,{},void 0,(0,o.A)(N,{},void 0,(0,o.A)(St.BV,{},void 0,(0,o.A)(St.qh,{element:jn||(jn=(0,o.A)(fn,{})),path:"".concat(a,"*")}))))},$n=n("./node_modules/redux/dist/redux.mjs");function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nr=(0,fe.Z0)({initialState:{host:""},name:"config",reducers:{update:function(e,t){var n=t.payload;return tr(tr({},e),n)}}}),rr=nr.actions,or=function(e){return function(t){return"".concat(t[e])}},ar=or("id"),ir=function(e){return function(t){return[e(t),t]}},sr=(ir(ar),function(e){return function(t){return{data:Object.fromEntries(t.map(ir(e))),list:t.map(e)}}});sr(ar);function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){(0,L.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lr=sr(or("_id")),dr=(0,fe.Z0)({initialState:{data:{},list:[]},name:"example",reducers:{getList:function(e,t){var n=t.payload;return ur(ur({},e),lr(n.data))}}}),fr=(dr.actions,(0,$n.HY)((0,L.A)((0,L.A)((0,L.A)((0,L.A)((0,L.A)({},nr.name,nr.reducer),dr.name,dr.reducer),ve.name,ve.reducer),et.name,et.reducer),Vn.name,Vn.reducer))),vr={immutableCheck:!1,serializableCheck:!1,thunk:!0},mr=(0,fe.U1)({devTools:!1,middleware:function(e){return e(vr)},reducer:fr});var pr=function(e){return e[nr.name]};function _r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_r=function(){return!!e})()}var br,Ar=function(e){function t(e){var n,r,o,a;return(0,V.A)(this,t),r=this,o=t,a=[e],o=(0,G.A)(o),n=(0,F.A)(r,_r()?Reflect.construct(o,a||[],(0,G.A)(r).constructor):o.apply(r,a)),(0,L.A)(n,"state",void 0),e.dispatch((function(e){return e(tt.loadStart(rr.update.type)),$e.requestLocal("/api/v1/config.json").then(qe(e,rr.update)).then(nt(e,rr.update.type))})),n}return(0,q.A)(t,e),(0,B.A)(t,[{key:"render",value:function(){return this.state?this.props.children:null}},{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.config!==t&&(We.host=t.host,this.setState(t))}}])}(d.Component),gr=(0,se.Ng)((function(e){return{config:pr(e)}}))(Ar),hr=function(e){return function(e){return e[et.name]}(e).load},yr=n("./node_modules/react-intl/lib/src/components/provider.js"),kr=function(e){var t,n=e.children,r=ce(),a=ue(Ae),i=ue((t=me.getMessages.type,function(e){return hr(e)[t]})),s=ue(ge);return st(),(0,d.useEffect)((function(){r(rt)}),[r]),(0,d.useEffect)((function(){s||i||!a||r(at(a))}),[r,i,a,s]),s?(0,o.A)(yr.A,{locale:a,messages:s},void 0,n):null},Or=n("./node_modules/react-dom/client.js");if(i){var Ir=function(e){return function(){e.render(br||(br=(0,o.A)(d.StrictMode,{},void 0,(0,o.A)(se.Kq,{store:mr},void 0,(0,o.A)(kr,{},void 0,(0,o.A)(St.I9,{},void 0,(0,o.A)(gr,{},void 0,(0,o.A)(Yn,{}))))))))}}((0,Or.H)(i));Ir()}var jr=function(e){console.error("SW registration failed: ",e)},Cr=function(){"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/planning-poker/sw.js").catch(jr)};window.removeEventListener("load",Cr),window.addEventListener("load",Cr)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,s),n.exports}s.m=a,e=[],s.O=function(t,n,r,o){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);s.r(o);var a={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},s.d(o,a),o},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))},s.u=function(e){return e+".min.js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},o="pokerPlanner:",s.l=function(e,t,n,a){if(r[e])r[e].push(t);else{var i,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+n){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",o+n),i.src=e),r[e]=[t];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(v);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/planning-poker/",function(){var e={main:0};s.f.j=function(t,n){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var a=s.p+s.u(t),i=new Error;s.l(a,(function(n){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],i=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(c)var l=c(s)}for(t&&t(n);u<a.length;u++)o=a[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},n=self.webpackChunkpokerPlanner=self.webpackChunkpokerPlanner||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var c=s.O(void 0,["vendor"],(function(){return s("./src/index.tsx")}));c=s.O(c),pokerPlanner=c}();