var pokerPlanner;!function(){"use strict";var e,t,r,n={"./src/index.tsx":function(e,t,r){r.r(t);var n,o,a,i,s=r("./node_modules/@babel/runtime/helpers/esm/jsx.js"),u="/",c=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),l=r("./node_modules/firebase/auth/dist/esm/index.esm.js"),d=r("./node_modules/firebase/app/dist/esm/index.esm.js"),f={apiKey:"AIzaSyAMO8Kwj7ChDikQKJzA7KCp-LYkXDFcKYI",appId:"1:241782390439:web:c10021e740161f63d1a582",authDomain:"tst-project-b3fc3.firebaseapp.com",databaseURL:"https://tst-project-b3fc3-default-rtdb.europe-west1.firebasedatabase.app",messagingSenderId:"241782390439",projectId:"tst-project-b3fc3",storageBucket:"tst-project-b3fc3.appspot.com"},v=r("./node_modules/react/index.js"),m=(0,v.createContext)(void 0),p=function(e){var t=e.children,r=(0,v.useState)(),n=(0,c.Z)(r,2),o=n[0],a=n[1];return(0,v.useEffect)((function(){return void 0===o&&a((0,d.ZF)(f)),function(){void 0!==o&&((0,d.P2)(o),a(void 0))}}),[o]),void 0===o?null:(0,s.Z)(m.Provider,{value:o},void 0,t)},_=function(){var e=(0,v.useContext)(m);if(void 0===e)throw new Error("useFirebaseAppContext can only be used in a FirebaseAppProvider");return e},b=(0,v.createContext)(void 0),Z=function(e){var t=e.children,r=_(),n=(0,v.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,v.useEffect)((function(){i((0,l.v0)(r))}),[r]),void 0===a?null:(0,s.Z)(b.Provider,{value:a},void 0,t)},h=(0,v.createContext)(void 0),g=function(e){var t=e.children,r=function(){var e=(0,v.useContext)(b);if(void 0===e)throw new Error("useAuthContext can only be used in a AuthProvider");return e}(),n=(0,v.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,v.useEffect)((function(){(0,l.XB)(r).then((function(e){var t=e.user;return i(t)}))}),[r]),void 0===a?null:(0,s.Z)(h.Provider,{value:a},void 0,t)},y=function(){var e=(0,v.useContext)(h);if(void 0===e)throw new Error("useAnonymouslyContext can only be used in a AnonymouslyProvider");return e},O=r("./node_modules/firebase/database/dist/esm/index.esm.js"),j=(0,v.createContext)(void 0),C=function(e){var t=e.children,r=_(),n=(0,v.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,v.useEffect)((function(){i((0,O.N8)(r))}),[r]),void 0===a?null:(0,s.Z)(j.Provider,{value:a},void 0,t)},k=r("./node_modules/firebase/firestore/dist/esm/index.esm.js"),I=(0,v.createContext)(void 0),x=function(e){var t=e.children,r=_(),n=(0,v.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,v.useEffect)((function(){return i((0,k.ad)(r)),function(){return i(void 0)}}),[r]),void 0===a?null:(0,s.Z)(I.Provider,{value:a},void 0,t)},N=function(){var e=(0,v.useContext)(I);if(void 0===e)throw new Error("useFirestoreContext can only be used in a FirestoreProvider");return e},S=function(e){var t=e.children;return(0,s.Z)(p,{},void 0,(0,s.Z)(Z,{},void 0,(0,s.Z)(g,{},void 0,(0,s.Z)(x,{},void 0,(0,s.Z)(C,{},void 0,t)))))},P=r("./node_modules/@babel/runtime/helpers/esm/extends.js"),w=function(e){return{defaultMessage:" ",id:e}},T=r("./node_modules/react-intl/lib/src/components/message.js"),E=function(e){var t=e.id,r=e.values;return v.createElement(T.Z,(0,P.Z)({},w(t),{values:r}))},M=function(){return n||(n=(0,s.Z)("div",{},void 0,(0,s.Z)("h3",{},void 0,(0,s.Z)(E,{id:"gameTask.empty.title"})),(0,s.Z)("p",{},void 0,(0,s.Z)(E,{id:"gameTask.empty.description"}))))},D=function(e){var t=e.children,r=e.title;return(0,s.Z)("table",{className:"Table"},void 0,r&&(0,s.Z)("caption",{className:"Table__Title"},void 0,r),(0,s.Z)("tbody",{},void 0,t))},L=function(e,t){var r=N();return(0,v.useMemo)((function(){return(0,k.JU)(r,e,t)}),[r,e,t])},V=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,v.useMemo)((function(){var r=t.split(" ");return r.push(e),r.join(" ")}),[t,e])},G=["className"],B=function(e){var t=e.className,r=(0,V.Z)(e,G),n=F("Button",t);return v.createElement("button",(0,P.Z)({className:n},r))},R=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),A=function(){return o||(o=(0,s.Z)("span",{"aria-label":"Coffee",className:"Coffee",role:"img"},void 0,"☕"))},W=function(e){return e[e.coffee=-3]="coffee",e[e.reset=-1]="reset",e[e.unsure=-2]="unsure",e}({}),U=(0,R.Z)((0,R.Z)((0,R.Z)({},W.coffee,(0,s.Z)(A,{})),W.reset," "),W.unsure,"?"),H=function(e){var t=e.isVoted,r=e.taskId,n=e.votes,o=L("task",r),a=(0,v.useMemo)((function(){return Object.values(n).some((function(e){return e!==W.reset}))}),[n]),i=(0,v.useMemo)((function(){return t?"game.reset":"game.reveal"}),[t]),u=(0,v.useCallback)((function(){return t?(0,k.r7)(o,{isVoted:!1,votes:{}}):(0,k.r7)(o,{isVoted:!0})}),[t,o]);return(0,s.Z)(B,{className:"Button_Primary offset",disabled:!a,onClick:u,type:"button"},void 0,(0,s.Z)(E,{id:i}))},K=function(e){var t=e.children,r=e.isVoted,n=e.option,o=e.taskId,a=e.userId,i=e.vote,u=L("task",o),c=(0,v.useCallback)((function(){(0,k.r7)(u,(0,R.Z)({},"votes.".concat(a),n))}),[n,u,a]);return(0,s.Z)(B,{className:"Button_Primary offset_ver",disabled:r||i===n,onClick:c,type:"button"},void 0,null!=t?t:n)},q=function(e){var t=e.game,r=e.taskData,n=e.taskId,o=e.userId;return void 0===r?null:(0,s.Z)(D,{},void 0,(0,s.Z)("tr",{},void 0,t.optionList.map((function(e){return(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title Table__Cell_Control"},e,(0,s.Z)(K,{isVoted:r.isVoted,option:e,taskId:n,userId:o,vote:r.votes[o]},e))})),(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title Table__Cell_Control"},void 0,(0,s.Z)(K,{isVoted:r.isVoted,option:W.unsure,taskId:n,userId:o,vote:r.votes[o]},void 0,U[W.unsure])),(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title Table__Cell_Control"},void 0,(0,s.Z)(K,{isVoted:r.isVoted,option:W.coffee,taskId:n,userId:o,vote:r.votes[o]},void 0,U[W.coffee])),(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title Table__Cell_Control"},void 0,(0,s.Z)(K,{isVoted:r.isVoted,option:W.reset,taskId:n,userId:o,vote:r.votes[o]},void 0,U[W.reset]))),t.creatorId===o&&(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Reveal",colSpan:t.optionList.length+3},void 0,(0,s.Z)(H,{isVoted:r.isVoted,taskId:n,votes:r.votes}))))},z=function(e){var t=(0,v.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=L("user",e);return(0,v.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n},J=function(e){var t=function(){var e=(0,v.useContext)(j);if(void 0===e)throw new Error("useDatabaseContext can only be used in a DatabaseProvider");return e}();return(0,v.useMemo)((function(){return(0,O.iH)(t,e)}),[t,e])},Y=function(e,t){return(0,v.useEffect)((function(){return(0,O.jM)(e,t)}),[t,e])},X=function(e){var t=e.gameId,r=e.isCreator,n=e.isSelf,o=e.isVoted,a=e.memberId,i=e.votes,u=z(a),l=function(e){var t=J("user/".concat(e)),r=(0,v.useState)(),n=(0,c.Z)(r,2),o=n[0],a=n[1];return Y(t,(function(e){return a(e.val())})),o}(a),d=(0,v.useMemo)((function(){var e=["GameMember__Name","offset"];return r&&e.push("GameMember__Name_Creator"),n&&e.push("GameMember__Name_Self"),l===t&&e.push("GameMember__Name_Online"),e.join(" ")}),[t,r,n,l]),f=(0,v.useMemo)((function(){var e,t=null!==(e=i[a])&&void 0!==e?e:W.reset;return W.reset===t?U[W.reset]:o?W[t]?U[t]:t:"#"}),[o,a,i]);if(void 0===u||!u.exists())return null;var m=u.data().name;return(0,s.Z)("tr",{className:"GameMember"},void 0,(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title"},void 0,(0,s.Z)("p",{className:d,title:m},void 0,m)),(0,s.Z)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,s.Z)("h4",{className:"offset_ver"},void 0,f)))},Q=function(e){var t=e.game,r=e.gameId,n=e.taskData,o=e.title,a=e.userId,i=(0,v.useMemo)((function(){return Object.keys(t.memberIds)}),[t.memberIds]),u=(0,v.useCallback)((function(e){return(0,s.Z)(X,{gameId:r,isCreator:t.creatorId===e,isSelf:a===e,isVoted:n.isVoted,memberId:e,votes:n.votes},e)}),[t.creatorId,n.isVoted,n.votes,a]);return(0,s.Z)(D,{title:(0,s.Z)("h4",{},void 0,o)},void 0,i.map(u))},$=function(e){var t=e.game,r=e.gameId,n=e.taskData,o=e.userId;return void 0===n?null:(0,s.Z)(Q,{game:t,gameId:r,taskData:n,title:n.title,userId:o})},ee=function(e){var t=e.game,r=e.gameId,n=e.taskId,o=e.userId,a=function(e){var t=(0,v.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=L("task",e);return(0,v.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n}(n),i=(0,v.useMemo)((function(){if(void 0!==a&&a.exists())return a.data()}),[a]);return(0,s.Z)("div",{className:"GameTask"},void 0,(0,s.Z)($,{game:t,gameId:r,taskData:i,userId:o}),(0,s.Z)(q,{game:t,taskData:i,taskId:n,userId:o}))},te=function(e){var t=e.game,r=e.gameId,n=e.taskId,o=e.userId;return void 0===n?a||(a=(0,s.Z)(M,{})):(0,s.Z)(ee,{game:t,gameId:r,taskId:n,userId:o})},re=function(e){var t=N();return(0,v.useMemo)((function(){return(0,k.hJ)(t,e)}),[t,e])},ne=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),oe=r("./node_modules/@babel/runtime/regenerator/index.js"),ae=r.n(oe),ie=r("./node_modules/react-hook-form/dist/index.esm.mjs"),se=["className"],ue=function(e){var t=e.className,r=(0,V.Z)(e,se),n=(0,ie.Gc)().formState,o=n.isDirty,a=n.isLoading,i=n.isSubmitting,s=n.isValid,u=n.isValidating,c=F("Button_Primary",t),l=!o||a||i||!s||u;return v.createElement(B,(0,P.Z)({className:c,disabled:l},r))},ce=["className","id","name"],le=function(e){var t=e.className,r=e.id,n=e.name,o=(0,V.Z)(e,ce),a=(0,ie.Gc)().control,i=(0,ie.bc)({control:a,name:n}).field,s=F("Input offset",t);return v.createElement("input",(0,P.Z)({className:s,id:null!=r?r:n},i,o))},de=r("./node_modules/react-intl/lib/src/components/useIntl.js"),fe=function(e,t){var r=(0,de.Z)();return(0,v.useMemo)((function(){return function(e){return function(t,r){return e.formatMessage(w(t),r)}}(r)(e,t)}),[e,r,t])},ve=function(e){var t=e.defaultValues,r=(0,ie.cI)({defaultValues:t}),n=fe("task.title"),o=(0,v.useCallback)(function(){var n=(0,ne.Z)(ae().mark((function n(o){return ae().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.onSubmit(o);case 2:r.reset(t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,r,e]);return v.createElement(ie.RV,r,(0,s.Z)("form",{onSubmit:r.handleSubmit(o)},void 0,(0,s.Z)(D,{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title"},void 0,(0,s.Z)(le,{className:"TaskForm__Input",name:"title",placeholder:n})),i||(i=(0,s.Z)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,s.Z)(ue,{className:"offset"},void 0,"+")))))))};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e,be,Ze,he,ge,ye,Oe=function(e){var t=e.creatorId,r=e.gameId,n=(0,v.useMemo)((function(){return{creatorId:t,gameId:r,isVoted:!1,title:"",votes:{}}}),[t,r]),o=re("task"),a=L("game",r),i=(0,v.useCallback)((function(e){return(0,k.r7)(a,{taskId:e.id})}),[a]),u=(0,v.useCallback)((function(e){return(0,k.ET)(o,pe(pe({},e),{},{createDate:(0,k.Bt)()})).then(i)}),[i,o]);return(0,s.Z)(ve,{defaultValues:n,onSubmit:u})},je=function(){return _e||(_e=(0,s.Z)("div",{},void 0,(0,s.Z)("h3",{},void 0,(0,s.Z)(E,{id:"task.empty.title"})),(0,s.Z)("p",{},void 0,(0,s.Z)(E,{id:"task.empty.description"}))))},Ce=r("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),ke=function(e){return Math.round(e.reduce((function(e,t){return e+t}),0)/e.length)},Ie=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.task,a=e.taskId,i=e.taskIdSelect,u=L("game",r),c=L("task",a),l=(0,v.useMemo)((function(){var e=["TaskItem"];return a===t.taskId&&e.push("TaskItem_Current"),e.join(" ")}),[t.taskId,a]),d=function(e,t,r){return(0,v.useMemo)((function(){if(0===e.length)return U[W.reset];if(!t)return"#";var n=e.filter((function(e){return W[e]})),o=Math.min.apply(Math,[0].concat((0,Ce.Z)(n)));return o?U[o]:r(e)}),[r,t,e])}((0,v.useMemo)((function(){return Object.values(o.votes).filter((function(e){return e!==W.reset}))}),[o.votes]),o.isVoted,ke),f=(0,v.useCallback)((function(){return(0,k.r7)(u,{taskId:a})}),[u,a]),m=(0,v.useCallback)((function(){return a===t.taskId&&(void 0===i?(0,k.r7)(u,{taskId:(0,k.AK)()}):(0,k.r7)(u,{taskId:i})),(0,k.oe)(c)}),[t.taskId,u,c,a,i]);return(0,s.Z)("tr",{className:l},void 0,(0,s.Z)("td",{className:"Table__Cell Table__Cell_Title"},void 0,n?(0,s.Z)(B,{className:"Button_Primary offset_0",disabled:a===t.taskId,onClick:f,title:o.title,type:"button"},void 0,(0,s.Z)("h4",{className:"TaskItem__TitleInner"},void 0,o.title)):(0,s.Z)("h4",{className:"TaskItem__TitleInner",title:o.title},void 0,o.title)),(0,s.Z)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,s.Z)("h4",{className:"offset_ver"},void 0,d)),n&&(0,s.Z)("td",{className:"Table__Cell Table__Cell_Control Table__Cell_Control_Fixed"},void 0,(0,s.Z)(B,{className:"Button_Primary offset_ver",onClick:m,type:"button"},void 0,"×")))},xe=new Date(0),Ne=function(e){var t=e.createDate;return[void 0===t?k.EK.fromDate(xe):t,e.title].join("_")},Se=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.taskList,a=(0,v.useMemo)((function(){var e=o.map((function(e){return{data:e.data(),id:e.id}}));return e.sort((function(e,t){var r=Ne(e.data),n=Ne(t.data);return r===n?0:r>n?1:-1})),e}),[o]),i=(0,v.useCallback)((function(e,o){var i,u=null!==(i=a[o+1])&&void 0!==i?i:a[o-1];return(0,s.Z)(Ie,{game:t,gameId:r,isCreator:n,task:e.data,taskId:e.id,taskIdSelect:null==u?void 0:u.id},e.id)}),[t,r,n,a]);return(0,s.Z)(D,{title:be||(be=(0,s.Z)("h4",{},void 0,(0,s.Z)(E,{id:"task.list.title"})))},void 0,a.map(i))},Pe=function(e){var t=(0,v.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=(0,v.useMemo)((function(){return(0,k.ar)("gameId","==",e)}),[e]),i=function(e,t){return(0,v.useMemo)((function(){return(0,k.IO)(e,t)}),[e,t])}(re("task"),a);return(0,v.useEffect)((function(){return(0,k.cf)(i,o)}),[i]),n},we=function(e){var t=e.creatorId,r=e.game,n=e.gameId,o=e.userId,a=Pe(n),i=o===t;return void 0===a?null:(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,a.empty?Ze||(Ze=(0,s.Z)(je,{})):(0,s.Z)(Se,{game:r,gameId:n,isCreator:i,taskList:a.docs})),i&&(0,s.Z)("div",{},void 0,(0,s.Z)(Oe,{creatorId:t,gameId:n})))},Te=function(e){var t=e.game,r=e.gameId;!function(e){var t=y(),r=L("game",e);(0,v.useEffect)((function(){(0,k.r7)(r,(0,R.Z)({},"memberIds.".concat(t.uid),!0))}),[t.uid,r])}(r),function(e){var t=y(),r=J(".info/connected"),n=J("user/".concat(t.uid));Y(r,(function(t){!0===t.val()&&(0,O.ae)(n).remove().then((function(){(0,O.t8)(n,e)}))}))}(r);var n=(0,v.useMemo)((function(){return t.data()}),[t]),o=y().uid;return(0,s.Z)("div",{className:"GameItemContent"},void 0,(0,s.Z)("div",{className:"GameItemContent__Header box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("h2",{className:"GameItemContent__Title box__col box__col_xs_12 box__col_sm_5 box__col_md_4"},void 0,n.title," (",n.createDate.toDate().toLocaleDateString(),")"),(0,s.Z)("h2",{className:"GameItemContent__Code box__col box__col_xs_12 box__col_sm_7 box__col_md_8"},void 0,r))),(0,s.Z)("div",{className:"GameItemContent__Main box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_5 box__col_md_4"},void 0,(0,s.Z)(te,{game:n,gameId:r,taskId:n.taskId,userId:o})),(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_7 box__col_md_8"},void 0,(0,s.Z)(we,{creatorId:n.creatorId,game:n,gameId:r,userId:o})))))},Ee=r("./node_modules/react-router/dist/index.js"),Me=function(){var e=(0,Ee.UO)().gameId,t=void 0===e?"":e,r=function(e){var t=(0,v.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=L("game",e);return(0,v.useEffect)((function(){return(0,k.cf)(a,o)}),[a]),n}(t);return void 0===r?null:r.exists()?(0,s.Z)(Te,{game:r,gameId:t}):(0,s.Z)(Ee.Fg,{to:u})},De=function(e){var t=e.children,r=e.defaultValues,n=e.onSubmit,o=(0,ie.cI)({defaultValues:r});return v.createElement(ie.RV,o,(0,s.Z)("form",{onSubmit:o.handleSubmit(n)},void 0,t))},Le=function(e){var t=e.children,r=e.htmlFor;return(0,s.Z)("label",{className:"Label",htmlFor:r},void 0,t)},Ve=r("./node_modules/react-intl/src/components/message.js"),Fe=function(){var e=fe("game.new.placeholder");return(0,s.Z)(D,{},void 0,he||(he=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"title"},void 0,(0,s.Z)(Ve.Z,{id:"game.new.label"}))))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(le,{name:"title",placeholder:e}))),ge||(ge=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ue,{},void 0,(0,s.Z)(Ve.Z,{id:"game.new.action"}))))))},Ge="/",Be="/:gameId",Re=r("./node_modules/@remix-run/router/dist/router.js");function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue,He,Ke,qe,ze,Je,Ye,Xe,Qe,$e=function(e){var t=e.optionSetList,r=(0,Ee.s0)(),n=y(),o=re("game"),a=(0,v.useMemo)((function(){var e={title:""};return 1===t.length&&(e.optionList=t[0].optionList),e}),[t]),i=(0,v.useCallback)((function(e){return(0,k.ET)(o,We(We({},e),{},{createDate:(0,k.Bt)(),creatorId:n.uid})).then((function(e){r((0,Re.Gn)(Be,{gameId:e.id}))}))}),[n.uid,o,r]);return(0,s.Z)(De,{defaultValues:a,onSubmit:i},void 0,ye||(ye=(0,s.Z)(Fe,{})))},et=function(){var e=function(){var e=(0,v.useState)(),t=(0,c.Z)(e,2),r=t[0],n=t[1],o=re("optionSet");return(0,v.useEffect)((function(){return(0,k.cf)(o,(function(e){n(e.docs.map((function(e){return e.data()})))}))}),[o]),r}();return void 0===e?null:(0,s.Z)($e,{optionSetList:e})},tt=function(){var e=fe("game.join.placeholder");return(0,s.Z)(D,{},void 0,Ue||(Ue=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"title"},void 0,(0,s.Z)(Ve.Z,{id:"game.join.label"}))))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(le,{name:"gameId",placeholder:e}))),He||(He=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ue,{},void 0,(0,s.Z)(Ve.Z,{id:"game.join.action"}))))))},rt=function(){var e=(0,Ee.s0)(),t=(0,v.useMemo)((function(){return{gameId:""}}),[]),r=(0,v.useCallback)((function(t){e((0,Re.Gn)(Be,t))}),[e]);return(0,s.Z)(De,{defaultValues:t,onSubmit:r},void 0,Ke||(Ke=(0,s.Z)(tt,{})))},nt=function(){return qe||(qe=(0,s.Z)("div",{className:"GameNew box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,s.Z)("div",{className:"GameNew__Item"},void 0,(0,s.Z)(et,{}))),(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,s.Z)("div",{className:"GameNew__Item"},void 0,(0,s.Z)(rt,{}))))))},ot=function(){return ze||(ze=(0,s.Z)("div",{className:"box"},void 0,(0,s.Z)(D,{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"name"},void 0,(0,s.Z)(E,{id:"user.name"})))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(le,{name:"name"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ue,{},void 0,(0,s.Z)(E,{id:"form.save"})))))))},at=function(){var e=y(),t=L("user",e.uid),r=(0,v.useMemo)((function(){return{name:""}}),[]),n=(0,v.useCallback)((function(e){return(0,k.pl)(t,e)}),[t]);return(0,s.Z)(De,{defaultValues:r,onSubmit:n},void 0,Je||(Je=(0,s.Z)(ot,{})))},it=function(){var e,t=(e=y(),z(e.uid));return void 0===t?null:t.exists()?(0,s.Z)(Ee.Z5,{},void 0,(0,s.Z)(Ee.AW,{element:Xe||(Xe=(0,s.Z)(nt,{})),path:"".concat(Ge,"*")}),(0,s.Z)(Ee.AW,{element:Qe||(Qe=(0,s.Z)(Me,{})),path:Be})):Ye||(Ye=(0,s.Z)(at,{}))},st=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),ut=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ct=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),lt=r("./node_modules/@babel/runtime/helpers/esm/inherits.js"),dt=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),ft=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),vt=r("./node_modules/baron/src/core.js"),mt=r.n(vt);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,ft.Z)(e);if(t){var o=(0,ft.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,dt.Z)(this,r)}}var Zt=0!==function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.setProperty("msOverflowStyle","scrollbar"),document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var r=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),r}();function ht(e){return"bar_".concat(e)}function gt(e){return"track_".concat(e)}var yt=function(e){(0,lt.Z)(r,e);var t=bt(r);function r(e){var n;return(0,st.Z)(this,r),n=t.call(this,e),(0,R.Z)((0,ct.Z)(n),"instanceList",[]),(0,R.Z)((0,ct.Z)(n),"isMount",!1),(0,R.Z)((0,ct.Z)(n),"references",{scroll:(0,v.createRef)(),scroller:(0,v.createRef)()}),(0,R.Z)((0,ct.Z)(n),"updateOnLayoutChange",function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(void 0,a)}),t),s&&e.apply(void 0,a)}}((function(){n.isMount&&n.instanceList.forEach(n.update)}),300)),(0,R.Z)((0,ct.Z)(n),"referencesInit",(function(e,t){return _t(_t({},e),{},(0,R.Z)((0,R.Z)({},ht(t),(0,v.createRef)()),gt(t),(0,v.createRef)()))})),(0,R.Z)((0,ct.Z)(n),"renderScrollbar",(function(e){return v.createElement("div",{className:"Scroll__Track Scroll__Track_".concat(e),key:e,ref:n.references[gt(e)]},v.createElement("div",{className:"Scroll__Bar Scroll__Bar_".concat(e),ref:n.references[ht(e)]}))})),(0,R.Z)((0,ct.Z)(n),"scrollInit",(function(e){return mt()({bar:n.references[ht(e)].current,barOnCls:"Scroll_On_".concat(e),direction:e,impact:"scroller",root:n.references.scroll.current,scroller:n.references.scroller.current,track:n.references[gt(e)].current})})),n.references=n.props.dirList.reduce(n.referencesInit,n.references),n}return(0,ut.Z)(r,[{key:"render",value:function(){return Zt?v.createElement("div",{className:"Scroll",ref:this.references.scroll},v.createElement("div",{className:"Scroll__Scroller",ref:this.references.scroller},this.props.children),this.props.dirList.map(this.renderScrollbar)):this.props.children}},{key:"componentDidMount",value:function(){Zt&&(this.instanceList=this.props.dirList.map(this.scrollInit),this.isMount=!0,this.updateOnLayoutChange())}},{key:"componentDidUpdate",value:function(){this.updateOnLayoutChange()}},{key:"update",value:function(e){e.update()}},{key:"componentWillUnmount",value:function(){this.isMount=!1,this.instanceList.forEach(this.dispose)}},{key:"dispose",value:function(e){e.dispose()}}]),r}(v.Component),Ot=r("./node_modules/react-redux/es/index.js"),jt=function(){return(0,Ot.I0)()},Ct=Ot.v9,kt=function(e,t){return function(r){return e(t(r)),r}};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,st.Z)(this,e),e.host=t}return(0,ut.Z)(e,[{key:"getJSON",value:function(e){return e.json()}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.headers,n=void 0===r?{}:r;return xt(xt({},e.options),{},{headers:xt(xt({},e.options.headers),n)},t)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return this.fetch(t,e.host,r)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t),this.getOptions(r)).then((function(t){return e.getJSON(t)}))}))},{key:"requestLocal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fetch(e,"/planning-poker/local")}}]),e}();(0,R.Z)(Nt,"host",""),(0,R.Z)(Nt,"options",{headers:{"Content-Type":"application/json"},method:"GET"});var St,Pt,wt,Tt,Et=new Nt,Mt="currentLocale",Dt=r("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),Lt=(0,Dt.oM)({initialState:{current:"",data:{},list:[]},name:"locale",reducers:{getList:function(e,t){var r=t.payload;e.list=r.list},getMessages:function(e,t){var r=t.payload,n=r.data,o=r.language;e.data[o]=n},setCurrent:function(e,t){var r=t.payload;e.current=r}}}),Vt=function(e){return e[Lt.name]},Ft=function(e){return Vt(e).data},Gt=function(e){return Vt(e).list},Bt=function(e){return Vt(e).current},Rt=(0,Dt.oM)({initialState:{load:{}},name:"status",reducers:{loadStart:function(e,t){var r=t.payload;e.load[r]=!0},loadStop:function(e,t){var r=t.payload;e.load[r]=!1}}}),At=function(e,t){return function(e,t){return function(r){return e(t),r}}(e,Rt.actions.loadStop(t))},Wt=function(e){return e(Rt.actions.loadStart(Lt.actions.getList.type)),Et.requestLocal("/api/v1/locale.json").then(kt(e,Lt.actions.getList)).then(At(e,Lt.actions.getList.type))},Ut=function(e){return function(t){return localStorage.setItem(Mt,e),t(Lt.actions.setCurrent(e))}},Ht=function(e,t){var r=t(),n=Bt(r)||localStorage.getItem(Mt)||"ru";return e(Ut(n))},Kt=function(e){return function(t){return t(Rt.actions.loadStart(Lt.actions.getMessages.type)),Et.requestLocal("/api/v1/locale-".concat(e,".json")).then((function(r){return kt(t,Lt.actions.getMessages)({data:r,language:e}),r})).then(At(t,Lt.actions.getMessages.type))}},qt=function(e){return(0,s.Z)("option",{value:e},e,e)},zt=function(){var e=jt(),t=Ct(Bt),r=Ct(Gt),n=Ct(Ft),o=(0,v.useState)(t),a=(0,c.Z)(o,2),i=a[0],u=a[1],l=(0,v.useCallback)((function(e){u(e.target.value)}),[]);return(0,v.useEffect)((function(){n[i]?i!==t&&e(Ut(i)):e(Kt(i))}),[e,i,t,n]),(0,s.Z)("select",{className:"LocaleSelector",name:"locale",onBlur:l,onChange:l,value:i},void 0,r.map(qt))},Jt=r("./node_modules/react-router-dom/dist/index.js"),Yt=function(){return(0,s.Z)("div",{className:"Header"},void 0,(0,s.Z)("div",{className:"Header__Inner box"},void 0,(0,s.Z)("h1",{className:"Header__Title"},void 0,(0,s.Z)(Jt.rU,{className:"Header__TitleLink",to:u},void 0,St||(St=(0,s.Z)(E,{id:"app.title"})))),Pt||(Pt=(0,s.Z)("div",{className:"Header__Lang"},void 0,(0,s.Z)(zt,{})))))},Xt=function(e){var t=e.children;return(0,s.Z)("div",{className:"Layout"},void 0,wt||(wt=(0,s.Z)("header",{className:"Layout__Header"},void 0,(0,s.Z)(Yt,{}))),(0,s.Z)("div",{className:"Layout__Scroll"},void 0,(0,s.Z)(yt,{dirList:["h","v"]},void 0,(0,s.Z)("div",{className:"Layout__Inner"},void 0,(0,s.Z)("main",{className:"Layout__Body"},void 0,t)))))},Qt=function(){return(0,s.Z)(Xt,{},void 0,(0,s.Z)(S,{},void 0,(0,s.Z)(Ee.Z5,{},void 0,(0,s.Z)(Ee.AW,{element:Tt||(Tt=(0,s.Z)(it,{})),path:"".concat(u,"*")}))))};function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr=(0,Dt.oM)({initialState:{host:""},name:"config",reducers:{update:function(e,t){var r=t.payload;return er(er({},e),r)}}}),rr=function(e){return function(t){return"".concat(t[e])}},nr=rr("id"),or=function(e){return function(t){return[e(t),t]}},ar=(or(nr),function(e){return function(t){return{data:Object.fromEntries(t.map(or(e))),list:t.map(e)}}});ar(nr);function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){(0,R.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ur=ar(rr("_id")),cr=(0,Dt.oM)({initialState:{data:{},list:[]},name:"example",reducers:{getList:function(e,t){var r=t.payload;return sr(sr({},e),ur(r.data))}}}),lr=(0,r("./node_modules/redux/es/redux.js").UY)((0,R.Z)((0,R.Z)((0,R.Z)((0,R.Z)({},tr.name,tr.reducer),cr.name,cr.reducer),Lt.name,Lt.reducer),Rt.name,Rt.reducer)),dr={immutableCheck:!1,serializableCheck:!1,thunk:!0},fr=(0,Dt.xC)({devTools:!1,middleware:function(e){return e(dr)},reducer:lr});var vr=function(e){return e[tr.name]};function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,ft.Z)(e);if(t){var o=(0,ft.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,dt.Z)(this,r)}}var pr,_r=function(e){(0,lt.Z)(r,e);var t=mr(r);function r(e){var n;return(0,st.Z)(this,r),n=t.call(this,e),(0,R.Z)((0,ct.Z)(n),"state",void 0),e.dispatch((function(e){return e(Rt.actions.loadStart(tr.actions.update.type)),Et.requestLocal("/api/v1/config.json").then(kt(e,tr.actions.update)).then(At(e,tr.actions.update.type))})),n}return(0,ut.Z)(r,[{key:"render",value:function(){return this.state?this.props.children:null}},{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.config!==t&&(Nt.host=t.host,this.setState(t))}}]),r}(v.Component),br=(0,Ot.$j)((function(e){return{config:vr(e)}}))(_r),Zr=function(e){return function(e){return e[Rt.name]}(e).load},hr=r("./node_modules/react-intl/lib/src/components/provider.js"),gr=function(e){var t=e.children,r=jt();(0,v.useEffect)((function(){r(Wt),r(Ht)}),[r]);var n,o=Ct(Bt),a=Ct((n=Lt.actions.getMessages.type,function(e){return Zr(e)[n]})),i=Ct(function(e){return function(t){return Ft(t)[e]}}(o));return(0,v.useEffect)((function(){i||a||!o||r(Kt(o))}),[r,a,o,i]),i?(0,s.Z)(hr.Z,{locale:o,messages:i},void 0,t):null},yr=r("./node_modules/react-dom/client.js"),Or=document.getElementById("root");if(Or){var jr=function(e){return function(){e.render(pr||(pr=(0,s.Z)(v.StrictMode,{},void 0,(0,s.Z)(Ot.zt,{store:fr},void 0,(0,s.Z)(gr,{},void 0,(0,s.Z)(Jt.UT,{},void 0,(0,s.Z)(br,{},void 0,(0,s.Z)(Qt,{}))))))))}}((0,yr.s)(Or));jr()}var Cr=function(e){console.error("SW registration failed: ",e)},kr=function(){"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/planning-poker/sw.js").catch(Cr)};window.removeEventListener("load",kr),window.addEventListener("load",kr)}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.m=n,e=[],a.O=function(t,r,n,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],o=e[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[u])}))?r.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},a.d(o,i),o},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={main:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(u)var l=u(a)}for(t&&t(r);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},r=self.webpackChunkpokerPlanner=self.webpackChunkpokerPlanner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=a.O(void 0,["vendor"],(function(){return a("./src/index.tsx")}));i=a.O(i),pokerPlanner=i}();