var pokerPlanner;!function(){"use strict";var e,t,r,n={"./src/index.tsx":function(e,t,r){r.r(t);var n,o,a,i,s=r("./node_modules/@babel/runtime/helpers/esm/jsx.js"),u="/",c=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),l=r("./node_modules/firebase/auth/dist/esm/index.esm.js"),d=r("./node_modules/firebase/app/dist/esm/index.esm.js"),f={apiKey:"AIzaSyAMO8Kwj7ChDikQKJzA7KCp-LYkXDFcKYI",appId:"1:241782390439:web:c10021e740161f63d1a582",authDomain:"tst-project-b3fc3.firebaseapp.com",databaseURL:"https://tst-project-b3fc3-default-rtdb.europe-west1.firebasedatabase.app",messagingSenderId:"241782390439",projectId:"tst-project-b3fc3",storageBucket:"tst-project-b3fc3.appspot.com"},m=r("./node_modules/react/index.js"),v=(0,m.createContext)(void 0),p=function(e){var t=e.children,r=(0,m.useState)(),n=(0,c.Z)(r,2),o=n[0],a=n[1];return(0,m.useEffect)((function(){return void 0===o&&a((0,d.ZF)(f)),function(){void 0!==o&&((0,d.P2)(o),a(void 0))}}),[o]),void 0===o?null:(0,s.Z)(v.Provider,{value:o},void 0,t)},_=function(){var e=(0,m.useContext)(v);if(void 0===e)throw new Error("useFirebaseAppContext can only be used in a FirebaseAppProvider");return e},b=(0,m.createContext)(void 0),Z=function(e){var t=e.children,r=_(),n=(0,m.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,m.useEffect)((function(){i((0,l.v0)(r))}),[r]),void 0===a?null:(0,s.Z)(b.Provider,{value:a},void 0,t)},h=(0,m.createContext)(void 0),g=function(e){var t=e.children,r=function(){var e=(0,m.useContext)(b);if(void 0===e)throw new Error("useAuthContext can only be used in a AuthProvider");return e}(),n=(0,m.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,m.useEffect)((function(){(0,l.XB)(r).then((function(e){var t=e.user;return i(t)}))}),[r]),void 0===a?null:(0,s.Z)(h.Provider,{value:a},void 0,t)},y=function(){var e=(0,m.useContext)(h);if(void 0===e)throw new Error("useAnonymouslyContext can only be used in a AnonymouslyProvider");return e},O=r("./node_modules/firebase/database/dist/esm/index.esm.js"),j=(0,m.createContext)(void 0),k=function(e){var t=e.children,r=_(),n=(0,m.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,m.useEffect)((function(){i((0,O.N8)(r))}),[r]),void 0===a?null:(0,s.Z)(j.Provider,{value:a},void 0,t)},I=r("./node_modules/firebase/firestore/dist/esm/index.esm.js"),C=(0,m.createContext)(void 0),N=function(e){var t=e.children,r=_(),n=(0,m.useState)(),o=(0,c.Z)(n,2),a=o[0],i=o[1];return(0,m.useEffect)((function(){return i((0,I.ad)(r)),function(){return i(void 0)}}),[r]),void 0===a?null:(0,s.Z)(C.Provider,{value:a},void 0,t)},S=function(){var e=(0,m.useContext)(C);if(void 0===e)throw new Error("useFirestoreContext can only be used in a FirestoreProvider");return e},x=function(e){var t=e.children;return(0,s.Z)(p,{},void 0,(0,s.Z)(Z,{},void 0,(0,s.Z)(g,{},void 0,(0,s.Z)(N,{},void 0,(0,s.Z)(k,{},void 0,t)))))},P=function(e){var t=e.children,r=e.title;return(0,s.Z)("table",{className:"Table"},void 0,r&&(0,s.Z)("caption",{className:"Table__Title"},void 0,r),(0,s.Z)("tbody",{},void 0,t))},w=function(e,t){var r=S();return(0,m.useMemo)((function(){return(0,I.JU)(r,e,t)}),[r,e,t])},E=r("./node_modules/@babel/runtime/helpers/esm/extends.js"),M=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,m.useMemo)((function(){var r=t.split(" ");return r.push(e),r.join(" ")}),[t,e])},L=["className"],T=function(e){var t=e.className,r=(0,M.Z)(e,L),n=D("Button",t);return m.createElement("button",(0,E.Z)({className:n},r))},V=function(e){return{defaultMessage:" ",id:e}},G=r("./node_modules/react-intl/lib/src/components/message.js"),F=function(e){var t=e.id,r=e.values;return m.createElement(G.Z,(0,E.Z)({},V(t),{values:r}))},B=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=function(){return n||(n=(0,s.Z)("span",{"aria-label":"Coffee",className:"Coffee",role:"img"},void 0,"☕"))},A=function(e){return e[e.coffee=-3]="coffee",e[e.reset=-1]="reset",e[e.unsure=-2]="unsure",e}({}),W=(0,B.Z)((0,B.Z)((0,B.Z)({},A.coffee,(0,s.Z)(R,{})),A.reset," "),A.unsure,"?"),H=function(e){var t=e.isVoted,r=e.taskId,n=e.votes,o=w("task",r),a=(0,m.useMemo)((function(){return Object.values(n).some((function(e){return e!==A.reset}))}),[n]),i=(0,m.useMemo)((function(){return t?"game.reset":"game.reveal"}),[t]),u=(0,m.useCallback)((function(){return t?(0,I.r7)(o,{isVoted:!1,votes:{}}):(0,I.r7)(o,{isVoted:!0})}),[t,o]);return(0,s.Z)(T,{className:"Button_Primary",disabled:!a,onClick:u,type:"button"},void 0,(0,s.Z)(F,{id:i}))},U=function(e){var t=e.children,r=e.isVoted,n=e.option,o=e.taskId,a=e.userId,i=e.vote,u=w("task",o),c=(0,m.useCallback)((function(){(0,I.r7)(u,(0,B.Z)({},"votes.".concat(a),n))}),[n,u,a]);return(0,s.Z)(T,{className:"Button_Primary",disabled:r||i===n,onClick:c,type:"button"},void 0,null!=t?t:n)},K=function(e){var t=e.game,r=e.taskData,n=e.taskId,o=e.userId;return void 0===r?null:(0,s.Z)(P,{},void 0,(0,s.Z)("tr",{},void 0,t.optionList.map((function(e){return(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},e,(0,s.Z)(U,{isVoted:r.isVoted,option:e,taskId:n,userId:o,vote:r.votes[o]},e))})),(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},void 0,(0,s.Z)(U,{isVoted:r.isVoted,option:A.unsure,taskId:n,userId:o,vote:r.votes[o]},void 0,W[A.unsure])),(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},void 0,(0,s.Z)(U,{isVoted:r.isVoted,option:A.coffee,taskId:n,userId:o,vote:r.votes[o]},void 0,W[A.coffee])),(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Vote"},void 0,(0,s.Z)(U,{isVoted:r.isVoted,option:A.reset,taskId:n,userId:o,vote:r.votes[o]},void 0,W[A.reset]))),t.creatorId===o&&(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"GameItemControl__Cell GameItemControl__Cell_Reveal",colSpan:t.optionList.length+3},void 0,(0,s.Z)(H,{isVoted:r.isVoted,taskId:n,votes:r.votes}))))},z=function(e){var t=(0,m.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=w("user",e);return(0,m.useEffect)((function(){return(0,I.cf)(a,o)}),[a]),n},q=function(e){var t=e.isCreator,r=e.isSelf,n=e.isVoted,o=e.memberId,a=e.votes,i=z(o),u=(0,m.useMemo)((function(){var e=["GameMember__Name"];return t&&e.push("GameMember__Name_Creator"),r&&e.push("GameMember__Name_Self"),e.join(" ")}),[t,r]),c=(0,m.useMemo)((function(){var e,t=null!==(e=a[o])&&void 0!==e?e:A.reset;return A.reset===t?W[A.reset]:n?A[t]?W[t]:t:"#"}),[n,o,a]);if(void 0===i||!i.exists())return null;var l=i.data().name;return(0,s.Z)("tr",{className:"GameMember"},void 0,(0,s.Z)("td",{className:"GameMember__Cell GameMember__Cell_Name"},void 0,(0,s.Z)("p",{className:u,title:l},void 0,l)),(0,s.Z)("td",{className:"GameMember__Cell GameMember__Cell_Vote"},void 0,(0,s.Z)("p",{},void 0,c)))},J=function(e){var t=e.game,r=e.taskData,n=e.title,o=e.userId;return(0,s.Z)(P,{title:(0,s.Z)("h5",{},void 0,n)},void 0,Object.keys(t.memberIds).map((function(e){return(0,s.Z)(q,{isCreator:t.creatorId===e,isSelf:o===e,isVoted:r.isVoted,memberId:e,votes:r.votes},e)})))},Y=function(e){var t=e.game,r=e.taskData,n=e.userId;return void 0===r?null:(0,s.Z)(J,{game:t,taskData:r,title:r.title,userId:n})},X=function(){return o||(o=(0,s.Z)("div",{},void 0,(0,s.Z)("h5",{},void 0,(0,s.Z)(F,{id:"gameTask.empty.title"})),(0,s.Z)("div",{},void 0,(0,s.Z)(F,{id:"gameTask.empty.description"}))))},Q=function(e){var t=e.game,r=e.taskId,n=e.userId,o=function(e){var t=(0,m.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=w("task",e);return(0,m.useEffect)((function(){return(0,I.cf)(a,o)}),[a]),n}(r),a=(0,m.useMemo)((function(){if(void 0!==o&&o.exists())return o.data()}),[o]);return m.createElement(m.Fragment,null,(0,s.Z)(Y,{game:t,taskData:a,userId:n}),(0,s.Z)(K,{game:t,taskData:a,taskId:r,userId:n}))},$=function(e){var t=e.game,r=e.taskId,n=e.userId;return void 0===r?a||(a=(0,s.Z)(X,{})):(0,s.Z)(Q,{game:t,taskId:r,userId:n})},ee=function(e){var t=S();return(0,m.useMemo)((function(){return(0,I.hJ)(t,e)}),[t,e])},te=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),re=r("./node_modules/@babel/runtime/regenerator/index.js"),ne=r.n(re),oe=r("./node_modules/react-hook-form/dist/index.esm.mjs"),ae=function(e){var t=(0,oe.Gc)().formState,r=t.isDirty,n=t.isLoading,o=t.isSubmitting,a=t.isValid,i=t.isValidating;return m.createElement(T,(0,E.Z)({className:"Button_Primary",disabled:!r||n||o||!a||i},e))},ie=["className","id","name"],se=function(e){var t=e.className,r=e.id,n=e.name,o=(0,M.Z)(e,ie),a=(0,oe.Gc)().control,i=(0,oe.bc)({control:a,name:n}).field,s=D("Input",t);return m.createElement("input",(0,E.Z)({className:s,id:null!=r?r:n},i,o))},ue=r("./node_modules/react-intl/lib/src/components/useIntl.js"),ce=function(e,t){var r=(0,ue.Z)();return(0,m.useMemo)((function(){return function(e){return function(t,r){return e.formatMessage(V(t),r)}}(r)(e,t)}),[e,r,t])},le=function(e){var t=e.defaultValues,r=(0,oe.cI)({defaultValues:t}),n=ce("task.title"),o=(0,m.useCallback)(function(){var n=(0,te.Z)(ne().mark((function n(o){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.onSubmit(o);case 2:r.reset(t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,r,e]);return m.createElement(oe.RV,r,(0,s.Z)("form",{onSubmit:r.handleSubmit(o)},void 0,(0,s.Z)(P,{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"TaskForm__Cell TaskForm__Cell_Title"},void 0,(0,s.Z)(se,{className:"TaskForm__Input",name:"title",placeholder:n})),i||(i=(0,s.Z)("td",{className:"TaskForm__Cell TaskForm__Cell_Control"},void 0,(0,s.Z)(ae,{},void 0,"+")))))))};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me,ve,pe,_e,be,Ze,he=function(e){var t=e.creatorId,r=e.gameId,n=(0,m.useMemo)((function(){return{creatorId:t,gameId:r,isVoted:!1,title:"",votes:{}}}),[t,r]),o=ee("task"),a=w("game",r),i=(0,m.useCallback)((function(e){return(0,I.r7)(a,{taskId:e.id})}),[a]),u=(0,m.useCallback)((function(e){return(0,I.ET)(o,fe(fe({},e),{},{createDate:(0,I.Bt)()})).then(i)}),[i,o]);return(0,s.Z)(le,{defaultValues:n,onSubmit:u})},ge=function(){return me||(me=(0,s.Z)("div",{},void 0,(0,s.Z)("h5",{},void 0,(0,s.Z)(F,{id:"task.empty.title"})),(0,s.Z)("div",{},void 0,(0,s.Z)(F,{id:"task.empty.description"}))))},ye=r("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),Oe=function(e){return Math.round(e.reduce((function(e,t){return e+t}),0)/e.length)},je=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.task,a=e.taskId,i=e.taskIdSelect,u=w("game",r),c=w("task",a),l=(0,m.useMemo)((function(){var e=["TaskItem"];return a===t.taskId&&e.push("TaskItem_Current"),e.join(" ")}),[t.taskId,a]),d=function(e,t,r){return(0,m.useMemo)((function(){if(0===e.length)return W[A.reset];if(!t)return"#";var n=e.filter((function(e){return A[e]})),o=Math.min.apply(Math,[0].concat((0,ye.Z)(n)));return o?W[o]:r(e)}),[r,t,e])}((0,m.useMemo)((function(){return Object.values(o.votes).filter((function(e){return e!==A.reset}))}),[o.votes]),o.isVoted,Oe),f=(0,m.useCallback)((function(){return(0,I.r7)(u,{taskId:a})}),[u,a]),v=(0,m.useCallback)((function(){return a===t.taskId&&(void 0===i?(0,I.r7)(u,{taskId:(0,I.AK)()}):(0,I.r7)(u,{taskId:i})),(0,I.oe)(c)}),[t.taskId,u,c,a,i]);return(0,s.Z)("tr",{className:l},void 0,(0,s.Z)("td",{className:"TaskItem__Cell TaskItem__Cell_Title"},void 0,n?(0,s.Z)(T,{className:"Button_Primary",disabled:a===t.taskId,onClick:f,title:o.title,type:"button"},void 0,(0,s.Z)("span",{className:"TaskItem__TitleInner"},void 0,o.title)):(0,s.Z)("span",{className:"TaskItem__Title",title:o.title},void 0,(0,s.Z)("span",{className:"TaskItem__TitleInner"},void 0,o.title))),(0,s.Z)("td",{className:"TaskItem__Cell TaskItem__Cell_Control"},void 0,d),n&&(0,s.Z)("td",{className:"TaskItem__Cell TaskItem__Cell_Control"},void 0,(0,s.Z)(T,{className:"Button_Primary",onClick:v,type:"button"},void 0,"×")))},ke=new Date(0),Ie=function(e){var t=e.createDate;return[void 0===t?I.EK.fromDate(ke):t,e.title].join("_")},Ce=function(e){var t=e.game,r=e.gameId,n=e.isCreator,o=e.taskList,a=(0,m.useMemo)((function(){var e=o.map((function(e){return{data:e.data(),id:e.id}}));return e.sort((function(e,t){var r=Ie(e.data),n=Ie(t.data);return r===n?0:r>n?1:-1})),e}),[o]);return(0,s.Z)(P,{title:ve||(ve=(0,s.Z)("h5",{},void 0,(0,s.Z)(F,{id:"task.list.title"})))},void 0,a.map((function(e,o){var i,u=null!==(i=a[o+1])&&void 0!==i?i:a[o-1];return(0,s.Z)(je,{game:t,gameId:r,isCreator:n,task:e.data,taskId:e.id,taskIdSelect:null==u?void 0:u.id},e.id)})))},Ne=function(e){var t=(0,m.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=(0,m.useMemo)((function(){return(0,I.ar)("gameId","==",e)}),[e]),i=function(e,t){return(0,m.useMemo)((function(){return(0,I.IO)(e,t)}),[e,t])}(ee("task"),a);return(0,m.useEffect)((function(){return(0,I.cf)(i,o)}),[i]),n},Se=function(e){var t=e.creatorId,r=e.game,n=e.gameId,o=e.userId,a=Ne(n),i=o===t;return void 0===a?null:(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,a.empty?pe||(pe=(0,s.Z)(ge,{})):(0,s.Z)(Ce,{game:r,gameId:n,isCreator:i,taskList:a.docs})),i&&(0,s.Z)("div",{},void 0,(0,s.Z)(he,{creatorId:t,gameId:n})))},xe=function(e){var t=function(){var e=(0,m.useContext)(j);if(void 0===e)throw new Error("useDatabaseContext can only be used in a DatabaseProvider");return e}();return(0,m.useMemo)((function(){return(0,O.iH)(t,e)}),[t,e])},Pe=function(e){var t,r,n=y(),o=xe(".info/connected"),a=xe("user/".concat(n.uid));t=o,r=function(t){!0===t.val()&&(0,O.ae)(a).remove().then((function(){(0,O.t8)(a,e)}))},(0,m.useEffect)((function(){return(0,O.jM)(t,r)}),[r,t])},we=function(e){var t=e.game,r=e.gameId;!function(e){var t=y(),r=w("game",e);(0,m.useEffect)((function(){(0,I.r7)(r,(0,B.Z)({},"memberIds.".concat(t.uid),!0))}),[t.uid,r])}(r),Pe(r);var n=(0,m.useMemo)((function(){return t.data()}),[t]),o=y().uid;return(0,s.Z)("div",{className:"GameItemContent"},void 0,(0,s.Z)("div",{className:"GameItemContent__Header box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("h3",{className:"GameItemContent__Title box__col box__col_xs_12 box__col_md_5"},void 0,n.title," (",n.createDate.toDate().toLocaleDateString(),")"),(0,s.Z)("h4",{className:"GameItemContent__Code box__col box__col_xs_12 box__col_md_7"},void 0,r))),(0,s.Z)("div",{className:"GameItemContent__Main box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("div",{className:"GameItemContent__MemeberList box__col box__col_xs_12 box__col_md_5"},void 0,(0,s.Z)($,{game:n,taskId:n.taskId,userId:o})),(0,s.Z)("div",{className:"GameItemContent__TaskList box__col box__col_xs_12 box__col_md_7"},void 0,(0,s.Z)(Se,{creatorId:n.creatorId,game:n,gameId:r,userId:o})))))},Ee=r("./node_modules/react-router/dist/index.js"),Me=function(){var e=(0,Ee.UO)().gameId,t=void 0===e?"":e,r=function(e){var t=(0,m.useState)(),r=(0,c.Z)(t,2),n=r[0],o=r[1],a=w("game",e);return(0,m.useEffect)((function(){return(0,I.cf)(a,o)}),[a]),n}(t);return void 0===r?null:r.exists()?(0,s.Z)(we,{game:r,gameId:t}):(0,s.Z)(Ee.Fg,{to:u})},De=function(e){var t=e.children,r=e.defaultValues,n=e.onSubmit,o=(0,oe.cI)({defaultValues:r});return m.createElement(oe.RV,o,(0,s.Z)("form",{onSubmit:o.handleSubmit(n)},void 0,t))},Le=function(e){var t=e.children,r=e.htmlFor;return(0,s.Z)("label",{className:"Label",htmlFor:r},void 0,t)},Te=r("./node_modules/react-intl/src/components/message.js"),Ve=function(){var e=ce("game.new.placeholder");return(0,s.Z)(P,{},void 0,_e||(_e=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"title"},void 0,(0,s.Z)(Te.Z,{id:"game.new.label"}))))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(se,{name:"title",placeholder:e}))),be||(be=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ae,{},void 0,(0,s.Z)(Te.Z,{id:"game.new.action"}))))))},Ge="/",Fe="/:gameId",Be=r("./node_modules/@remix-run/router/dist/router.js");function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We,He,Ue,Ke,ze,qe,Je,Ye,Xe,Qe=function(e){var t=e.optionSetList,r=(0,Ee.s0)(),n=y(),o=ee("game"),a=(0,m.useMemo)((function(){var e={title:""};return 1===t.length&&(e.optionList=t[0].optionList),e}),[t]),i=(0,m.useCallback)((function(e){return(0,I.ET)(o,Ae(Ae({},e),{},{createDate:(0,I.Bt)(),creatorId:n.uid})).then((function(e){r((0,Be.Gn)(Fe,{gameId:e.id}))}))}),[n.uid,o,r]);return(0,s.Z)(De,{defaultValues:a,onSubmit:i},void 0,Ze||(Ze=(0,s.Z)(Ve,{})))},$e=function(){var e=function(){var e=(0,m.useState)(),t=(0,c.Z)(e,2),r=t[0],n=t[1],o=ee("optionSet");return(0,m.useEffect)((function(){return(0,I.cf)(o,(function(e){n(e.docs.map((function(e){return e.data()})))}))}),[o]),r}();return void 0===e?null:(0,s.Z)(Qe,{optionSetList:e})},et=function(){var e=ce("game.join.placeholder");return(0,s.Z)(P,{},void 0,We||(We=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"title"},void 0,(0,s.Z)(Te.Z,{id:"game.join.label"}))))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(se,{name:"gameId",placeholder:e}))),He||(He=(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ae,{},void 0,(0,s.Z)(Te.Z,{id:"game.join.action"}))))))},tt=function(){var e=(0,Ee.s0)(),t=(0,m.useMemo)((function(){return{gameId:""}}),[]),r=(0,m.useCallback)((function(t){e((0,Be.Gn)(Fe,t))}),[e]);return(0,s.Z)(De,{defaultValues:t,onSubmit:r},void 0,Ue||(Ue=(0,s.Z)(et,{})))},rt=function(){return Ke||(Ke=(0,s.Z)("div",{className:"GameNew box"},void 0,(0,s.Z)("div",{className:"box__row"},void 0,(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,s.Z)("div",{className:"GameNew__Item"},void 0,(0,s.Z)($e,{}))),(0,s.Z)("div",{className:"box__col box__col_xs_12 box__col_sm_6"},void 0,(0,s.Z)("div",{className:"GameNew__Item"},void 0,(0,s.Z)(tt,{}))))))},nt=function(){return ze||(ze=(0,s.Z)("div",{className:"box"},void 0,(0,s.Z)(P,{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(Le,{htmlFor:"name"},void 0,(0,s.Z)(F,{id:"user.name"})))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(se,{name:"name"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{className:"Form__Cell"},void 0,(0,s.Z)(ae,{},void 0,(0,s.Z)(F,{id:"form.save"})))))))},ot=function(){var e=y(),t=w("user",e.uid),r=(0,m.useMemo)((function(){return{name:""}}),[]),n=(0,m.useCallback)((function(e){return(0,I.pl)(t,e)}),[t]);return(0,s.Z)(De,{defaultValues:r,onSubmit:n},void 0,qe||(qe=(0,s.Z)(nt,{})))},at=function(){var e,t=(e=y(),z(e.uid));return void 0===t?null:t.exists()?(0,s.Z)(Ee.Z5,{},void 0,(0,s.Z)(Ee.AW,{element:Ye||(Ye=(0,s.Z)(rt,{})),path:"".concat(Ge,"*")}),(0,s.Z)(Ee.AW,{element:Xe||(Xe=(0,s.Z)(Me,{})),path:Fe})):Je||(Je=(0,s.Z)(ot,{}))},it=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),st=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ut=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),ct=r("./node_modules/@babel/runtime/helpers/esm/inherits.js"),lt=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),dt=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),ft=r("./node_modules/baron/src/core.js"),mt=r.n(ft);function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,dt.Z)(e);if(t){var o=(0,dt.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,lt.Z)(this,r)}}var bt=0!==function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.setProperty("msOverflowStyle","scrollbar"),document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var r=e.offsetWidth-t.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),r}();function Zt(e){return"bar_".concat(e)}function ht(e){return"track_".concat(e)}var gt=function(e){(0,ct.Z)(r,e);var t=_t(r);function r(e){var n;return(0,it.Z)(this,r),n=t.call(this,e),(0,B.Z)((0,ut.Z)(n),"instanceList",[]),(0,B.Z)((0,ut.Z)(n),"isMount",!1),(0,B.Z)((0,ut.Z)(n),"references",{scroll:m.createRef(),scroller:m.createRef()}),(0,B.Z)((0,ut.Z)(n),"updateOnLayoutChange",function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(void 0,a)}),t),s&&e.apply(void 0,a)}}((function(){n.isMount&&n.instanceList.forEach(n.update)}),300)),(0,B.Z)((0,ut.Z)(n),"referencesInit",(function(e,t){return pt(pt({},e),{},(0,B.Z)((0,B.Z)({},Zt(t),m.createRef()),ht(t),m.createRef()))})),(0,B.Z)((0,ut.Z)(n),"renderScrollbar",(function(e){return m.createElement("div",{className:"Scroll__Track Scroll__Track_".concat(e),key:e,ref:n.references[ht(e)]},m.createElement("div",{className:"Scroll__Bar Scroll__Bar_".concat(e),ref:n.references[Zt(e)]}))})),(0,B.Z)((0,ut.Z)(n),"scrollInit",(function(e){return mt()({bar:n.references[Zt(e)].current,barOnCls:"Scroll_On_".concat(e),direction:e,impact:"scroller",root:n.references.scroll.current,scroller:n.references.scroller.current,track:n.references[ht(e)].current})})),n.references=n.props.dirList.reduce(n.referencesInit,n.references),n}return(0,st.Z)(r,[{key:"render",value:function(){return bt?m.createElement("div",{className:"Scroll",ref:this.references.scroll},m.createElement("div",{className:"Scroll__Scroller",ref:this.references.scroller},this.props.children),this.props.dirList.map(this.renderScrollbar)):this.props.children}},{key:"componentDidMount",value:function(){bt&&(this.instanceList=this.props.dirList.map(this.scrollInit),this.isMount=!0,this.updateOnLayoutChange())}},{key:"componentDidUpdate",value:function(){this.updateOnLayoutChange()}},{key:"update",value:function(e){e.update()}},{key:"componentWillUnmount",value:function(){this.isMount=!1,this.instanceList.forEach(this.dispose)}},{key:"dispose",value:function(e){e.dispose()}}]),r}(m.Component),yt=r("./node_modules/react-redux/es/index.js"),Ot=function(){return(0,yt.I0)()},jt=yt.v9,kt=function(e,t){return function(r){return e(t(r)),r}};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,it.Z)(this,e),e.host=t}return(0,st.Z)(e,[{key:"getJSON",value:function(e){return e.json()}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.headers,n=void 0===r?{}:r;return Ct(Ct({},e.options),{},{headers:Ct(Ct({},e.options.headers),n)},t)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return this.fetch(t,e.host,r)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t),this.getOptions(r)).then((function(t){return e.getJSON(t)}))}))},{key:"requestLocal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fetch(e,"/planning-poker/local")}}]),e}();(0,B.Z)(Nt,"host",""),(0,B.Z)(Nt,"options",{headers:{"Content-Type":"application/json"},method:"GET"});var St,xt,Pt,wt,Et,Mt=new Nt,Dt="currentLocale",Lt=r("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),Tt=(0,Lt.oM)({initialState:{current:"",data:{},list:[]},name:"locale",reducers:{getList:function(e,t){var r=t.payload;e.list=r.list},getMessages:function(e,t){var r=t.payload,n=r.data,o=r.language;e.data[o]=n},setCurrent:function(e,t){var r=t.payload;e.current=r}}}),Vt=function(e){return e[Tt.name]},Gt=function(e){return Vt(e).data},Ft=function(e){return Vt(e).list},Bt=function(e){return Vt(e).current},Rt=(0,Lt.oM)({initialState:{load:{}},name:"status",reducers:{loadStart:function(e,t){var r=t.payload;e.load[r]=!0},loadStop:function(e,t){var r=t.payload;e.load[r]=!1}}}),At=function(e,t){return function(e,t){return function(r){return e(t),r}}(e,Rt.actions.loadStop(t))},Wt=function(e){return e(Rt.actions.loadStart(Tt.actions.getList.type)),Mt.requestLocal("/api/v1/locale.json").then(kt(e,Tt.actions.getList)).then(At(e,Tt.actions.getList.type))},Ht=function(e){return function(t){return localStorage.setItem(Dt,e),t(Tt.actions.setCurrent(e))}},Ut=function(e,t){var r=t(),n=Bt(r)||localStorage.getItem(Dt)||"ru";return e(Ht(n))},Kt=function(e){return function(t){return t(Rt.actions.loadStart(Tt.actions.getMessages.type)),Mt.requestLocal("/api/v1/locale-".concat(e,".json")).then((function(r){return kt(t,Tt.actions.getMessages)({data:r,language:e}),r})).then(At(t,Tt.actions.getMessages.type))}},zt=function(e){return(0,s.Z)("option",{value:e},e,e)},qt=function(){var e=Ot(),t=jt(Bt),r=jt(Ft),n=jt(Gt),o=(0,m.useState)(t),a=(0,c.Z)(o,2),i=a[0],u=a[1],l=(0,m.useCallback)((function(e){u(e.target.value)}),[]);return(0,m.useEffect)((function(){n[i]?i!==t&&e(Ht(i)):e(Kt(i))}),[e,i,t,n]),(0,s.Z)("select",{className:"LocaleSelector",name:"locale",onBlur:l,onChange:l,value:i},void 0,r.map(zt))},Jt=r("./node_modules/react-router-dom/dist/index.js"),Yt=function(){return(0,s.Z)("div",{className:"Header"},void 0,(0,s.Z)("div",{className:"Header__Inner box"},void 0,(0,s.Z)("h1",{className:"Header__Title"},void 0,(0,s.Z)(Jt.rU,{className:"Header__TitleLink",to:u},void 0,St||(St=(0,s.Z)(F,{id:"app.title"})))),xt||(xt=(0,s.Z)("div",{className:"Header__Lang"},void 0,(0,s.Z)(qt,{})))))},Xt=function(e){var t=e.children;return(0,s.Z)("div",{className:"Layout"},void 0,Pt||(Pt=(0,s.Z)("header",{className:"Layout__Header"},void 0,(0,s.Z)(Yt,{}))),(0,s.Z)("div",{className:"Layout__Scroll"},void 0,(0,s.Z)(gt,{dirList:["h","v"]},void 0,(0,s.Z)("div",{className:"Layout__Inner"},void 0,wt||(wt=(0,s.Z)("div",{className:"Layout__HeaderSize"})),(0,s.Z)("main",{className:"Layout__Body"},void 0,t)))))},Qt=function(){return(0,s.Z)(Xt,{},void 0,(0,s.Z)(x,{},void 0,(0,s.Z)(Ee.Z5,{},void 0,(0,s.Z)(Ee.AW,{element:Et||(Et=(0,s.Z)(at,{})),path:"".concat(u,"*")}))))};function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr=(0,Lt.oM)({initialState:{host:""},name:"config",reducers:{update:function(e,t){var r=t.payload;return er(er({},e),r)}}}),rr=function(e){return function(t){return"".concat(t[e])}},nr=rr("id"),or=function(e){return function(t){return[e(t),t]}},ar=(or(nr),function(e){return function(t){return{data:Object.fromEntries(t.map(or(e))),list:t.map(e)}}});ar(nr);function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ur=ar(rr("_id")),cr=(0,Lt.oM)({initialState:{data:{},list:[]},name:"example",reducers:{getList:function(e,t){var r=t.payload;return sr(sr({},e),ur(r.data))}}}),lr=(0,r("./node_modules/redux/es/redux.js").UY)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},tr.name,tr.reducer),cr.name,cr.reducer),Tt.name,Tt.reducer),Rt.name,Rt.reducer)),dr={immutableCheck:!1,serializableCheck:!1,thunk:!0},fr=(0,Lt.xC)({devTools:!1,middleware:function(e){return e(dr)},reducer:lr});var mr=function(e){return e[tr.name]};function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,dt.Z)(e);if(t){var o=(0,dt.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,lt.Z)(this,r)}}var pr,_r=function(e){(0,ct.Z)(r,e);var t=vr(r);function r(e){var n;return(0,it.Z)(this,r),n=t.call(this,e),(0,B.Z)((0,ut.Z)(n),"state",void 0),e.dispatch((function(e){return e(Rt.actions.loadStart(tr.actions.update.type)),Mt.requestLocal("/api/v1/config.json").then(kt(e,tr.actions.update)).then(At(e,tr.actions.update.type))})),n}return(0,st.Z)(r,[{key:"render",value:function(){return this.state?this.props.children:null}},{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.config!==t&&(Nt.host=t.host,this.setState(t))}}]),r}(m.Component),br=(0,yt.$j)((function(e){return{config:mr(e)}}))(_r),Zr=function(e){return function(e){return e[Rt.name]}(e).load},hr=r("./node_modules/react-intl/lib/src/components/provider.js"),gr=function(e){var t=e.children,r=Ot();(0,m.useEffect)((function(){r(Wt),r(Ut)}),[r]);var n,o=jt(Bt),a=jt((n=Tt.actions.getMessages.type,function(e){return Zr(e)[n]})),i=jt(function(e){return function(t){return Gt(t)[e]}}(o));return(0,m.useEffect)((function(){i||a||!o||r(Kt(o))}),[r,a,o,i]),i?(0,s.Z)(hr.Z,{locale:o,messages:i},void 0,t):null},yr=r("./node_modules/react-dom/client.js"),Or=document.getElementById("root");if(Or){var jr=function(e){return function(){e.render(pr||(pr=(0,s.Z)(m.StrictMode,{},void 0,(0,s.Z)(yt.zt,{store:fr},void 0,(0,s.Z)(gr,{},void 0,(0,s.Z)(Jt.UT,{},void 0,(0,s.Z)(br,{},void 0,(0,s.Z)(Qt,{}))))))))}}((0,yr.s)(Or));jr()}var kr=function(e){console.error("SW registration failed: ",e)},Ir=function(){"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/planning-poker/sw.js").catch(kr)};window.removeEventListener("load",Ir),window.addEventListener("load",Ir)}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.m=n,e=[],a.O=function(t,r,n,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],o=e[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[u])}))?r.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},a.d(o,i),o},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={main:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(u)var l=u(a)}for(t&&t(r);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},r=self.webpackChunkpokerPlanner=self.webpackChunkpokerPlanner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=a.O(void 0,["vendor"],(function(){return a("./src/index.tsx")}));i=a.O(i),pokerPlanner=i}();